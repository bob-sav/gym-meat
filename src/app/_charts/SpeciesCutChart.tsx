"use client";

import * as React from "react";
import { SpeciesKey, PartKey } from "@/lib/catalog-types";
import styles from "./speciesCutChart.module.css";

type ChartBaseProps = {
  selectedPart: PartKey | null;
  onSelectPart: (p: PartKey) => void;
  /** If provided, parts not in this set will render “disabled”. */
  isAvailable?: (p: PartKey) => boolean;
};

export default function SpeciesCutChart({
  species,
  selectedPart,
  onSelectPart,
  availableParts,
  ariaLabel,
}: {
  species: SpeciesKey;
  selectedPart: PartKey | null;
  onSelectPart: (p: PartKey) => void;
  availableParts?: PartKey[];
  ariaLabel?: string;
}) {
  const avail = React.useMemo(
    () => new Set<PartKey>(availableParts ?? []),
    [availableParts]
  );
  const isAvailable = React.useCallback(
    (p: PartKey) => (availableParts ? avail.has(p) : true),
    [availableParts, avail]
  );

  const baseProps: ChartBaseProps = { selectedPart, onSelectPart, isAvailable };

  switch (species) {
    case "SALMON":
      return (
        <div role="radiogroup" aria-label={ariaLabel ?? "Salmon cuts"}>
          <SalmonChart {...baseProps} />
        </div>
      );
    case "BEEF":
      return (
        <div role="img" aria-label={ariaLabel ?? "Beef cuts"}>
          <BeefChart {...baseProps} />
        </div>
      );
    case "CHICKEN":
      return (
        <div role="img" aria-label={ariaLabel ?? "Chicken cuts"}>
          <ChickenChart {...baseProps} />
        </div>
      );
    case "TURKEY":
      return (
        <div role="img" aria-label={ariaLabel ?? "Turkey cuts"}>
          <TurkeyChart {...baseProps} />
        </div>
      );
    case "DUCK":
      return (
        <div role="img" aria-label={ariaLabel ?? "Duck cuts"}>
          <DuckChart {...baseProps} />
        </div>
      );
    case "GOOSE":
      return (
        <div role="img" aria-label={ariaLabel ?? "Goose cuts"}>
          <GooseChart {...baseProps} />
        </div>
      );
  }
}

/* ---------------- Salmon (interactive) ---------------- */

function SalmonChart({
  selectedPart,
  onSelectPart,
  isAvailable,
}: ChartBaseProps) {
  const REGION_PARTS: PartKey[] = ["FILLET"]; // extend later if needed
  const currentIndex = Math.max(
    0,
    REGION_PARTS.findIndex((p) => p === selectedPart)
  );

  // Arrow key cycling for accessibility
  const onKeyDown = (e: React.KeyboardEvent<SVGSVGElement>) => {
    if (!REGION_PARTS.length) return;
    if (e.key === "ArrowRight" || e.key === "ArrowDown") {
      e.preventDefault();
      const next = REGION_PARTS[(currentIndex + 1) % REGION_PARTS.length];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
    if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
      e.preventDefault();
      const next =
        REGION_PARTS[
          (currentIndex - 1 + REGION_PARTS.length) % REGION_PARTS.length
        ];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
  };

  const isSel = (p: PartKey) => selectedPart === p;
  const isDis = (p: PartKey) => (isAvailable ? !isAvailable(p) : false);

  return (
    <svg
      className={styles.svgBox}
      viewBox="0 0 280 180"
      shapeRendering={"geometricPrecision"}
      tabIndex={0}
      onKeyDown={onKeyDown}
      aria-labelledby="salmon-title"
    >
      <title id="salmon-title">Salmon fillet diagram</title>

      {/* Whole fish base */}
      <g className={styles.base}>
        <path d="M279.95,99.75c-.07-.37-.22-.7-.48-.96-.26-.25-.53-.5-.81-.73-.19-.16-.43-.26-.66-.35-.89-.31-1.79-.34-2.69-.05-1.15.37-2.32.68-3.5.94-1.45.32-2.89.67-4.32,1.03-.4.1-.81.15-1.21.23-.43.08-.85.16-1.28.25-1.07.23-2.15.39-3.25.47-.32.02-.64.05-.96.07-1.01.06-2,0-3-.16-.43-.07-.85-.18-1.25-.32-.15-.05-.32-.06-.41-.22.06-.22.06-.46.25-.62.05-.04.11-.08.16-.12.69-.45,1.32-.98,1.92-1.54.64-.59,1.33-1.11,2.05-1.59,1.31-.87,2.67-1.66,4.08-2.37.14-.07.28-.15.43-.21,1.12-.45,2.24-.91,3.4-1.24.92-.27,1.84-.55,2.76-.81.96-.28,1.91-.62,2.82-1.04.54-.25,1.06-.53,1.57-.83.29-.17.54-.42.82-.62.82-.58,1.35-1.41,1.89-2.23.19-.29.31-.61.37-.95.07-.36.15-.71.22-1.07.1-.52.1-1.04-.07-1.56-.08-.24-.14-.48-.23-.72-.26-.68-.66-1.25-1.28-1.65-.21-.14-.4-.3-.56-.49-.34-.38-.75-.67-1.2-.9-.84-.42-1.65-.87-2.48-1.31-.68-.36-1.42-.61-2.14-.91-.17-.07-.35-.11-.51-.19-1.5-.68-3.07-1.17-4.61-1.74-.34-.13-.68-.28-1-.44-.51-.27-1.02-.5-1.56-.69-.75-.27-1.49-.58-2.21-.91-.37-.17-.76-.32-1.14-.47-.57-.24-1.15-.45-1.7-.71-1.25-.58-2.52-1.05-3.86-1.36-.73-.17-1.45-.39-2.17-.61-.96-.28-1.93-.56-2.9-.8-.86-.22-1.72-.46-2.56-.75-1.05-.37-2.12-.69-3.21-.95-1.18-.28-2.33-.63-3.49-.98-.41-.13-.83-.23-1.25-.35-.37-.1-.75-.19-1.12-.32-1.27-.45-2.57-.79-3.86-1.18-.63-.19-1.26-.41-1.9-.58-.58-.15-1.12-.37-1.66-.62-1.22-.57-2.49-1.03-3.77-1.43-.59-.18-1.19-.33-1.78-.49-.82-.22-1.63-.44-2.45-.64-.97-.24-1.95-.49-2.94-.63-.63-.09-1.26-.19-1.89-.29-.27-.04-.54-.1-.8-.17-1.04-.28-2.09-.46-3.15-.63-1.24-.2-2.47-.42-3.69-.74-.75-.2-1.51-.33-2.28-.48-.94-.18-1.88-.35-2.82-.56-.71-.16-1.44-.26-2.15-.39-.74-.14-1.48-.29-2.2-.5-.46-.13-.93-.21-1.4-.32-.27-.06-.54-.09-.8-.17-.96-.29-1.96-.44-2.94-.63-.96-.18-1.93-.35-2.9-.5-.52-.08-1.04-.14-1.56-.2-1.13-.14-2.27-.26-3.4-.4-.82-.1-1.63-.22-2.44-.32-.66-.08-1.31-.16-1.97-.24-1.13-.13-2.27-.27-3.4-.39-.77-.08-1.55-.13-2.32-.16-1.28-.05-2.56-.08-3.83-.12-1.35-.04-2.69-.05-4.04.06-.37.03-.72-.03-1.07-.15-.54-.18-1.08-.36-1.62-.54-.79-.26-1.5-.67-2.17-1.15-.47-.33-.94-.64-1.44-.93-.69-.4-1.36-.84-2-1.32-.85-.65-1.7-1.31-2.54-1.98-.32-.26-.62-.54-.92-.83-.63-.59-1.26-1.19-1.89-1.78-.17-.16-.34-.31-.49-.47-.99-1.01-1.98-2.02-2.97-3.03-.33-.34-.65-.71-.96-1.07-.35-.39-.68-.8-1.03-1.19-.2-.22-.4-.44-.62-.63-.66-.57-1.33-1.12-1.99-1.67-.4-.34-.81-.66-1.22-.99-.27-.21-.53-.43-.81-.64-1.36-1.01-2.72-2-4.07-3.02-.69-.52-1.36-1.08-2.03-1.63-1.58-1.28-3.24-2.45-5.05-3.4-.54-.29-1.11-.54-1.67-.78-.57-.24-1.13-.5-1.67-.79-.65-.34-1.31-.64-2-.89-.57-.2-1.14-.29-1.75-.29-.68,0-1.3.21-1.87.59-.15.1-.29.22-.44.32-.43.32-.76.72-.98,1.21-.1.23-.2.46-.3.69-.28.64-.43,1.3-.4,2,.03.78-.07,1.55-.25,2.31-.06.27-.12.53-.22.79-.31.82-.49,1.66-.59,2.52-.07.59-.14,1.18-.17,1.77-.06,1.07-.23,2.13-.55,3.16-.18.59-.42,1.16-.71,1.7-.46.87-.91,1.74-1.36,2.61-.5.95-1.04,1.87-1.63,2.77-.99,1.51-1.99,3.01-2.94,4.54-.3.49-.55,1-.73,1.54-.2.6-.42,1.2-.64,1.8-.25.69-.49,1.37-.64,2.09-.06.32-.1.63-.1.95,0,.32,0,.64.02.96.04.73.29,1.38.78,1.93.27.3.58.58.87.87.03.03.07.09.06.11-.04.05-.09.12-.14.13-.92.16-1.82.41-2.76.52-.16.02-.32.04-.48.05-.91.05-1.81.2-2.7.41-1.67.39-3.32.83-4.93,1.41-.97.34-1.94.67-2.91.99-.45.15-.92.27-1.38.4-.77.21-1.54.44-2.31.63-1.13.29-2.26.55-3.39.83-.67.16-1.33.32-2,.46-.29.06-.58.11-.88.12-.91.04-1.82.07-2.74.1-.27,0-.55,0-.82-.03-.54-.08-1.09-.09-1.64-.12-.36-.02-.73-.06-1.09-.11-.79-.12-1.58-.22-2.36-.41-.86-.21-1.72-.46-2.56-.76-.92-.33-1.85-.65-2.78-.96-.93-.31-1.9-.48-2.88-.59-.36-.04-.73-.06-1.09-.1-.32-.03-.64,0-.95.05-.57.09-1.03.36-1.37.82-.56.76-1,1.58-1.16,2.52-.13.74-.27,1.48-.38,2.23-.07.5-.07,1,.05,1.5.06.24.1.49.15.74.02.08-.05.18-.14.2-.11.03-.22.06-.33.07-1.2.12-2.4.32-3.59.53-.49.09-1,.12-1.5.18-.23.03-.45.05-.68.08-1.22.15-2.45.31-3.68.38-.16,0-.32.01-.48,0-1.62-.03-3.24-.08-4.86-.04-.8.02-1.59-.09-2.38-.2-1.07-.16-2.08-.52-3.08-.9-.6-.23-1.19-.46-1.78-.7-.34-.14-.68-.28-1-.44-1.23-.6-2.49-1.13-3.78-1.61-1.41-.52-2.78-1.15-4.11-1.86-1.65-.89-3.35-1.67-5.11-2.31-.98-.36-1.95-.78-2.92-1.16-1.38-.54-2.77-1.07-4.15-1.6-.38-.15-.76-.3-1.14-.47-2.66-1.21-5.41-2.19-8.21-3.02-.84-.24-1.69-.4-2.55-.5-1.06-.13-2.13-.25-3.2-.35-1.34-.13-2.69-.19-4.04-.12-.32.02-.64.03-.96.03-.55,0-1.09.1-1.61.28-.33.11-.65.21-1,.22-.36.01-.65.17-.92.4-.33.28-.67.55-1.02.8-.46.32-.7.76-.79,1.31-.07.46-.07.91.05,1.36.18.66.36,1.32.55,1.98.16.57.34,1.14.51,1.7.17.55.37,1.08.65,1.58.41.74.84,1.47,1.25,2.2.19.34.39.67.57,1.01.21.38.4.77.61,1.15.16.28.28.58.4.88.11.34.22.68.34,1,.05.18.12.36.16.55.15.74.34,1.47.49,2.2.12.63.21,1.26.32,1.89.08.47.15.95.23,1.42.21,1.27.64,2.48,1.19,3.63.61,1.28,1.15,2.58,1.73,3.88.25.56.52,1.12.75,1.69.31.81.61,1.62.88,2.44.15.46.19.94.18,1.42,0,.21,0,.42,0,.62-.19,2.49-1.03,5.09-1.11,7.51-.11.2-.21.41-.34.6-.6.93-.97,1.96-1.31,3-.27.8-.48,1.62-.67,2.44-.19.85-.5,1.66-.84,2.46-.24.54-.48,1.09-.71,1.63-.16.38-.37.73-.58,1.08-.49.8-.92,1.63-1.23,2.51-.17.5-.23,1.02-.37,1.52-.02.09-.02.18-.07.26-.21.41-.32.85-.43,1.3-.03.11-.07.22-.12.32-.47.94-.88,1.9-1.41,2.81-.44.75-.74,1.57-.95,2.41-.09.35-.17.71-.24,1.07-.13.64-.07,1.27.17,1.88.13.33.34.58.64.77.86.54,1.78.8,2.8.75.35-.02.67-.13.98-.29.33-.16.65-.33.98-.49.19-.09.38-.13.59-.14.29-.02.59-.07.88-.12,1.06-.18,2.1-.43,3.11-.8.23-.09.48-.13.72-.21.28-.09.56-.18.84-.28.15-.05.3-.13.45-.16.43-.09.82-.26,1.21-.45.18-.09.37-.17.57-.24.78-.26,1.52-.62,2.25-.99,1.21-.6,2.45-1.1,3.72-1.55.43-.15.85-.34,1.24-.57,1.12-.66,2.25-1.3,3.34-2.01.86-.57,1.73-1.1,2.6-1.65.91-.57,1.77-1.21,2.61-1.88.64-.51,1.29-1.02,1.98-1.47.97-.64,1.89-1.36,2.82-2.06,1.06-.8,2.14-1.56,3.22-2.32,1.39-.99,2.79-1.98,4.19-2.97.3-.21.59-.42.9-.63,1.12-.75,2.24-1.5,3.36-2.24.46-.3.93-.59,1.41-.84.89-.47,1.79-.92,2.68-1.37.53-.27,1.09-.48,1.66-.63,1.28-.35,2.55-.69,3.86-.92,1.33-.24,2.66-.39,4.02-.36,1.71.03,3.42.04,5.14.06,1.21.02,2.41.15,3.61.36.13.02.27.06.4.09.09.02.17.06.25.09,0,.03,0,.06,0,.09-.5.06-.99.11-1.49.17-.79.1-1.58.25-2.35.44-.42.11-.83.24-1.25.36-.11.03-.22.07-.32.12-.45.21-.91.43-1.36.65-.4.2-.7.5-.97.85-.2.27-.31.57-.24.9.07.3.05.59.05.88,0,.78.15,1.54.47,2.26.38.88.82,1.73,1.39,2.51.47.65.9,1.32,1.29,2.02.6,1.09.99,2.25,1.28,3.45.19.8.28,1.61.27,2.44-.01,2.1,0,4.2-.01,6.3,0,.32-.04.64-.06.96-.03.55-.05,1.09-.08,1.64-.02.36-.04.73-.07,1.09-.02.27-.03.55-.05.82-.01.3,0,.59-.04.89-.15,1.42.02,2.82.3,4.22.11.56.28,1.11.52,1.63.11.25.25.49.41.71.2.28.42.54.64.81.07.09.15.17.24.24.2.17.43.27.7.22.65-.11,1.32-.13,1.96-.29.56-.14,1.08-.35,1.55-.69.44-.32.89-.64,1.35-.94.34-.22.69-.45,1.06-.62,1.28-.6,2.51-1.3,3.73-2.01.43-.25.87-.5,1.32-.73,1.13-.59,2.24-1.22,3.29-1.96,1.09-.76,2.19-1.49,3.28-2.24.19-.13.38-.26.55-.4.71-.58,1.47-1.08,2.24-1.57.79-.5,1.56-1.04,2.3-1.61.96-.74,1.92-1.47,2.89-2.2.4-.3.78-.63,1.13-.99.43-.45.88-.86,1.36-1.25.32-.26.62-.54.91-.83.32-.3.68-.54,1.07-.73,1.27-.6,2.6-.98,4.02-.99.5,0,1,.04,1.5.08.55.05,1.09.13,1.63.19.96.11,1.88.35,2.77.72.38.16.77.28,1.17.37,1.11.24,2.23.48,3.34.72,1.09.24,2.19.44,3.25.82,1.19.43,2.42.65,3.66.85.65.1,1.3.25,1.96.32.48.05.95.08,1.43.15.72.1,1.44.23,2.16.35,1.01.17,2.02.34,3.03.52.92.16,1.84.32,2.76.48.49.08.99.16,1.49.23.23.03.45.06.66.17-.02.12-.13.09-.19.1-.87.2-1.73.41-2.61.57-.76.13-1.51.36-2.24.61-.06.02-.13.05-.19.07-.66.21-1,.69-1.11,1.35-.25,1.49-.2,2.95.4,4.37.27.63.53,1.26.85,1.87.27.5.52,1.01.79,1.52.22.42.42.86.57,1.32.12.37.25.73.4,1.09.31.77.52,1.56.61,2.38.11.95.29,1.89.45,2.84.15.85.27,1.71.39,2.57.14.97.29,1.94.49,2.9.11.54.2,1.08.23,1.62.02.32.06.64.14.95.27.97.49,1.95.81,2.9.05.15.1.3.18.44.25.49.5.97.69,1.49.12.32.33.6.58.84.33.32.73.45,1.19.42.27-.02.54-.05.82-.06.35-.02.68-.12.98-.29.46-.25.9-.53,1.35-.81.19-.12.37-.27.55-.4.44-.29.82-.65,1.14-1.07.21-.28.46-.51.72-.73,1.43-1.26,2.69-2.67,3.85-4.17.65-.85,1.21-1.77,1.77-2.69.33-.55.67-1.09,1.02-1.62.64-.97,1.29-1.94,1.93-2.91.63-.95,1.18-1.95,1.63-3,.21-.48.43-.96.65-1.43.34-.73.58-1.49.84-2.24.34-1.01.66-2.04,1.02-3.05.43-1.18.88-2.35,1.35-3.51.17-.42.41-.81.64-1.21.11-.19.28-.36.43-.53.09-.1.22-.16.36-.19.49-.1.99-.17,1.5-.12.75.07,1.5.07,2.26.08.46,0,.91.03,1.37.07,1.03.09,2.05.09,3.08.08.59,0,1.19-.02,1.78,0,1.69.06,3.38.06,5.07.05.73,0,1.46-.07,2.19-.1.55-.02,1.09-.05,1.64-.06.5-.01,1,0,1.5-.09.13-.03.27-.03.41-.03,1.76-.07,3.51-.25,5.26-.38,1.34-.1,2.69-.21,4.03-.19,1.37.02,2.74-.08,4.1-.15.68-.04,1.36-.17,2.03-.32.22-.05.45-.09.67-.1,1.23-.09,2.46-.17,3.69-.26,1.05-.07,2.09-.23,3.12-.43.43-.08.85-.15,1.28-.21.81-.12,1.63-.23,2.44-.34,1.08-.16,2.16-.33,3.25-.48.47-.07.95-.09,1.43-.15.25-.03.5-.07.74-.13.75-.2,1.52-.31,2.29-.42.92-.14,1.85-.26,2.78-.4.2-.03.4-.07.61-.1.43-.07.86-.13,1.28-.21.38-.07.76-.13,1.14-.21,1.7-.34,3.39-.71,5.1-1.03.58-.11,1.18-.16,1.77-.19.71-.04,1.42-.06,2.12-.03.71.02,1.41.1,2.11.18,1.07.11,2.14.14,3.21.03.36-.04.73-.06,1.09-.1.38-.05.77-.09,1.15-.17.67-.15,1.33-.33,1.99-.49.67-.16,1.3-.41,1.91-.74.4-.22.81-.42,1.21-.64.06-.03.13-.06.18-.1.41-.29.88-.47,1.33-.68.44-.2.89-.34,1.36-.43.4-.07.8-.17,1.21-.25.38-.07.76-.13,1.15-.2.43-.07.85-.14,1.28-.23.54-.11,1.07-.23,1.6-.36.51-.13,1.01-.27,1.51-.44,1.15-.39,2.32-.67,3.51-.9.96-.19,1.9-.47,2.85-.72.55-.14,1.08-.35,1.59-.61.49-.26,1.01-.4,1.56-.47.41-.05.81-.15,1.2-.26.85-.25,1.68-.57,2.52-.88.97-.36,1.88-.83,2.77-1.33.28-.16.58-.27.88-.37,1.06-.36,2.11-.74,3.16-1.11.06-.02.13-.05.19-.08,1.33-.6,2.67-1.18,3.99-1.79.68-.32,1.34-.68,2-1.04.2-.11.38-.25.55-.4.46-.41.92-.82,1.37-1.24.35-.33.69-.67.98-1.05.11-.15.24-.27.37-.41.31-.34.56-.72.69-1.17.11-.37.2-.75.29-1.12.07-.29.04-.59,0-.88Z" />
      </g>

      <g className={styles.lines}>
        <path d="M77.72,104.9c4.64,2.65,12.01,6.88,27.13,13.02-.12-.02-.23-.03-.35-.04-.5-.04-1-.09-1.5-.08-.91.01-1.77.16-2.61.44-12.78-5.37-19.38-9.15-23.66-11.61-5.37-3.07-7.15-4.08-13.15-3.94.24-.11.48-.23.71-.34.1-.04.21-.08.32-.11.42-.13.83-.25,1.25-.36.77-.2,1.56-.35,2.35-.45.5-.06,1-.11,1.49-.17.01-.03.01-.05.01-.08,2.6.62,4.7,1.82,8.01,3.72ZM237.31,65.79c-.7-.25-1.42-.46-2.13-.66-8.26,10.09-16.87,24.75-16.57,39.34.12,5.85,1.67,11.18,4.63,15.96.02,0,.03-.01.05-.01.58-.11,1.18-.16,1.77-.19.15-.01.29-.02.44-.02-3.13-4.71-4.77-9.98-4.89-15.78-.3-14.31,8.57-28.86,16.7-38.64ZM155.98,127.69c-8.8-1-18.95-1.78-26.05-2.32-.56-.04-1.1-.09-1.61-.13.08-.04.17-.08.27-.11.06-.03.12-.05.19-.08.73-.25,1.48-.48,2.24-.61.88-.15,1.74-.36,2.61-.57.06-.01.17.02.19-.1-.18-.09-.37-.13-.56-.15,7.36.57,16.85,1.34,24.91,2.32-.3.02-.6.07-.9.13-.14.03-.26.08-.36.19-.15.16-.31.33-.43.52-.17.3-.35.6-.5.91ZM114.52,61.25s-.02-.08-.05-.11c-.29-.29-.6-.56-.87-.87-.21-.23-.38-.49-.5-.76,4.22-.5,11.38-1.67,19.32-2.96,10.35-1.68,22.28-3.62,32.47-4.9.53.34,1.09.63,1.69.83.54.18,1.08.35,1.62.54.28.09.56.15.86.15-10.88,1.22-24.62,3.45-36.32,5.35-7.52,1.22-14,2.28-18.31,2.83.04-.02.07-.06.09-.1ZM68.8,70.23c4.53-.63,10.37-1.67,15.88-3.14.26.03.52.06.77.07.55.03,1.09.04,1.64.12.27.03.55.03.82.03.91-.03,1.82-.06,2.74-.1.27-.02.55-.05.81-.11-7.31,2.63-16.31,4.27-22.47,5.11.04-.04.05-.09.04-.13-.05-.24-.09-.49-.15-.73-.08-.37-.11-.75-.08-1.12ZM62.68,100.72c3.03-.13,5.16.01,7.03.46,0,.03,0,.05-.01.08-.49.06-.99.11-1.49.17-.79.1-1.58.25-2.35.45-.42.11-.83.23-1.25.36-.11.03-.22.07-.32.11-.23.11-.47.23-.71.34-.27.01-.54.02-.82.03l-.08-2ZM49.42,103.17c-5.75-13.4-3.34-22.99,1.35-30,.21.05.42.09.63.12.52.07,1.03.14,1.55.17-4.78,6.66-7.35,15.76-1.75,28.83-.14.06-.28.13-.42.2-.45.23-.91.45-1.36.68Z" />
      </g>

      {/* Fillet region */}
      <Region
        part="FILLET"
        label="Fillet"
        selected={isSel("FILLET")}
        disabled={isDis("FILLET")}
        onSelect={onSelectPart}
      >
        <path d="M233.76,64.71c.47.14.95.28,1.42.42-8.26,10.09-16.87,24.75-16.57,39.34.12,5.85,1.67,11.18,4.63,15.96-1.68.32-3.36.67-5.04,1.02-.38.08-.76.14-1.15.21-.42.07-.85.14-1.28.21-.2.03-.4.07-.61.1-.92.13-1.85.25-2.77.4-.77.12-1.54.22-2.29.42-.24.07-.49.11-.74.14-.47.05-.95.08-1.43.15-1.08.15-2.16.32-3.25.48-.81.12-1.62.22-2.44.34-.42.06-.85.13-1.28.21-1.03.2-2.07.36-3.12.43-1.22.09-2.45.17-3.68.25-.23.02-.46.06-.68.11-.67.15-1.34.29-2.02.32-1.37.07-2.74.17-4.11.15-1.35-.02-2.69.09-4.03.19-1.76.12-3.5.3-5.26.38-.14,0-.28,0-.41.03-.5.09-1,.08-1.5.09-.55.01-1.1.04-1.64.06-.73.03-1.46.1-2.19.1-1.69.01-3.38.01-5.07-.05-.59-.02-1.18,0-1.78,0-1.03.01-2.05.01-3.08-.08-.45-.04-.91-.06-1.37-.07-.75-.01-1.5,0-2.25-.08-.2-.02-.4-.01-.6,0-8.06-.98-17.55-1.75-24.91-2.32-.04-.01-.07-.02-.1-.02-.5-.07-1-.14-1.49-.22-.92-.16-1.84-.32-2.77-.48-1.01-.18-2.02-.35-3.03-.52-.72-.12-1.44-.24-2.16-.35-.48-.07-.95-.1-1.43-.15-.66-.07-1.31-.21-1.96-.32-1.24-.2-2.47-.43-3.66-.85-1.05-.38-2.15-.58-3.24-.82-1.12-.25-2.23-.48-3.34-.73-.41-.08-.8-.21-1.18-.37-.89-.36-1.81-.61-2.77-.71-.42-.06-.85-.12-1.28-.16-15.12-6.14-22.49-10.37-27.13-13.02-3.31-1.9-5.41-3.1-8.01-3.72h0c-.08-.04-.17-.07-.25-.09-.14-.04-.27-.07-.4-.09-1.2-.21-2.4-.34-3.61-.36-1.71-.03-3.42-.04-5.14-.07-1.35-.02-2.68.12-4.01.36-1.3.24-2.58.58-3.86.93-.42.11-.84.25-1.24.43-5.6-13.07-3.03-22.17,1.75-28.83.27.03.55.04.83.03,1.62-.03,3.25.01,4.87.04.15,0,.31,0,.47,0,1.23-.07,2.46-.23,3.68-.38.23-.03.45-.05.68-.08.5-.05,1-.09,1.49-.18,1.2-.2,2.39-.4,3.59-.52.11-.01.23-.05.34-.07.04-.02.07-.05.09-.08,6.16-.84,15.16-2.48,22.47-5.11.02,0,.04-.01.06-.01.67-.15,1.34-.3,2-.46,1.14-.27,2.27-.54,3.39-.83.78-.2,1.54-.42,2.31-.63.46-.13.93-.25,1.38-.4.98-.33,1.95-.65,2.91-1,1.62-.57,3.27-1.01,4.94-1.4.89-.21,1.78-.37,2.7-.42.16,0,.32-.03.47-.05.94-.11,1.84-.36,2.76-.52.02,0,.04-.01.05-.03,4.31-.55,10.79-1.61,18.31-2.83,11.7-1.9,25.44-4.13,36.32-5.35.07,0,.14,0,.21-.01,1.35-.11,2.69-.1,4.04-.06,1.28.04,2.55.07,3.83.12.78.04,1.55.09,2.32.16,1.14.12,2.27.26,3.4.39.66.08,1.32.15,1.98.24.81.1,1.62.22,2.44.32,1.13.14,2.26.27,3.4.4.52.06,1.04.12,1.56.21.96.15,1.93.32,2.9.5.98.19,1.97.33,2.94.63.26.07.53.11.8.17.47.1.94.18,1.4.31.73.21,1.46.36,2.2.5.72.13,1.45.23,2.16.39.93.22,1.87.38,2.81.57.76.15,1.53.28,2.28.48,1.21.32,2.45.54,3.69.74,1.05.17,2.11.36,3.15.63.26.07.53.13.8.17.63.1,1.26.2,1.89.29,1,.15,1.97.39,2.95.63.81.2,1.63.43,2.44.64.6.16,1.2.31,1.78.49,1.29.4,2.56.85,3.78,1.43.53.25,1.08.46,1.66.62.64.17,1.26.38,1.89.58Z" />
      </Region>
    </svg>
  );
}

/** One interactive region (keyboard + screen-reader friendly). */
function Region({
  part,
  label,
  selected,
  disabled,
  onSelect,
  children,
}: {
  part: PartKey;
  label: string;
  selected: boolean;
  disabled?: boolean;
  onSelect: (p: PartKey) => void;
  children: React.ReactNode;
}) {
  const cls = [
    styles.region,
    selected ? styles.selected : "",
    disabled ? styles.disabled : "",
  ]
    .filter(Boolean)
    .join(" ");

  const handle = () => {
    if (!disabled) onSelect(part);
  };

  return (
    <g
      role="radio"
      aria-checked={selected}
      aria-label={label}
      aria-disabled={disabled || undefined}
      tabIndex={disabled ? -1 : 0}
      className={cls}
      onClick={handle}
      onKeyDown={(e) => {
        if (disabled) return;
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          onSelect(part);
        }
      }}
    >
      {children}
    </g>
  );
}

function BeefChart({
  selectedPart,
  onSelectPart,
  isAvailable,
}: ChartBaseProps) {
  const REGION_PARTS: PartKey[] = [
    "SIRLOIN",
    "TENDERLOIN",
    "SHORT_LOIN",
    "RUMP",
    "RIBEYE",
  ]; // extend later if needed
  const currentIndex = Math.max(
    0,
    REGION_PARTS.findIndex((p) => p === selectedPart)
  );

  // Arrow key cycling for accessibility
  const onKeyDown = (e: React.KeyboardEvent<SVGSVGElement>) => {
    if (!REGION_PARTS.length) return;
    if (e.key === "ArrowRight" || e.key === "ArrowDown") {
      e.preventDefault();
      const next = REGION_PARTS[(currentIndex + 1) % REGION_PARTS.length];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
    if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
      e.preventDefault();
      const next =
        REGION_PARTS[
          (currentIndex - 1 + REGION_PARTS.length) % REGION_PARTS.length
        ];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
  };

  const isSel = (p: PartKey) => selectedPart === p;
  const isDis = (p: PartKey) => (isAvailable ? !isAvailable(p) : false);

  return (
    <svg
      className={styles.svgBox}
      viewBox="0 0 280 180"
      shapeRendering={"geometricPrecision"}
      tabIndex={0}
      onKeyDown={onKeyDown}
      aria-labelledby="beef-title"
    >
      <title id="beef-title">Beef cut chart</title>

      {/* Whole beef base */}
      <g className={styles.base}>
        <path d="M277.49,56.5c-.22-.45-.37-.93-.57-1.39-.42-.97-.96-1.86-1.67-2.66-1.98-2.23-3.93-4.48-5.85-6.76-1.68-2-3.25-4.11-4.97-6.07-1.29-1.47-2.46-3-3.5-4.66-1.07-1.72-1.9-3.51-2.5-5.42-.24-.77-.49-1.53-.73-2.3-.89-2.75-2.24-5.15-4.71-6.89-2.01-1.41-3.87-3.03-5.8-4.54-.48-.38-.77-.86-.97-1.44.36-.4.71-.8,1.07-1.18,1.8-1.89,2.98-4.08,3.28-6.69.09-.77.18-1.54.23-2.31.01-.16-.13-.43-.24-.46-.18-.04-.42.06-.59.16-.14.08-.22.25-.32.38-.72.95-1.45,1.9-2.16,2.87-.72.99-1.64,1.74-2.65,2.4-.32.2-.59.21-.94.06-.8-.36-1.56-.73-2.16-1.4-.37-.42-.83-.75-1.2-1.17-.37-.42-.81-.51-1.34-.53-1.79-.08-3.1.54-3.74,2.3-.17.48-.44.93-.67,1.39-.13-.27-.14-.5-.12-.74.07-.86.16-1.71.22-2.57.1-1.27.24-2.54.27-3.81.02-.77-.09-1.55-.23-2.3-.05-.28-.33-.63-.59-.72-.37-.13-.59.26-.73.55-.3.59-.58,1.2-.81,1.82-.73,2.01-1.42,4.03-2.15,6.04-.11.29-.31.63-.56.78-.64.37-.93.92-1.13,1.57-.14.45-.31.89-.47,1.34-.17.49-.22,1,.02,1.46.2.4.23.81.23,1.23-.05.32-.07.65-.07.98-.07.12-.2.21-.37.27-1.48.58-2.91,1.32-4.54,1.46-.2.02-23.55,2.21-28.3,2.41-2.01.09-4,.14-6.01-.35-2.91-.71-5.89-.76-8.85-.24-1.02.18-2.04.38-3.04.64-2.79.72-12.49,2.11-13.8,2.19-3.7.23-7.4.05-11.1-.05-2.92-.08-5.82-.37-8.68-.99-1.72-.38-3.46-.71-5.21-.95-3.72-.52-7.44-.99-11.17-1.45-1.47-.18-40-2.07-40.28-2.06-3.95.08-7.91.2-11.86.24-1.85.02-3.7-.01-5.55-.17-2.84-.24-5.58-.98-8.22-2-4.51-1.74-9.17-2.48-14-2.33-1.62.05-3.24-.19-4.86-.3-.22-.01-3.54-.86-4.77-1.16-1.41-.4-2.85-.73-4.3-.97-1.79-.36-7.06-1.07-7.42-1.09-3.4-.17-6.71.27-9.93,1.37-2.6.89-4.73,2.5-6.74,4.3-3.35,2.99-5.54,6.65-6.59,10.98-.78,3.21-.81,6.48-.64,9.75.28,5.4.55,10.79.8,16.19.15,3.24.21,6.48.41,9.72.25,4.15.56,8.29.89,12.44.39,4.89.8,9.78,1.25,14.66.49,5.27.05,10.46-1.3,15.57-.91,3.43-1.86,6.85-2.21,10.4-.12,1.26-.21,2.52.18,3.76.17-.84.27-1.69.43-2.53.16-.81.38-1.62.6-2.42.22-.8.38-1.61.8-2.35-.13,2.84-1.05,5.58-.89,8.46.52-1.59,1.04-3.19,1.58-4.86-.09,2.05-.17,4-.25,5.96.06.03.12.05.17.08.82-.71,1.68-1.41,1.9-2.58.23-1.17.41-2.35.61-3.52.13-.79.26-1.59.4-2.38.06,0,.12.01.18.02-.1,1.48-.21,2.96-.32,4.55.13-.2.22-.3.27-.42.28-.73.58-1.44.8-2.18.6-2.02.63-4.1.63-6.18,0-2.88-.06-5.77.02-8.65.14-4.92-.42-9.8-.86-14.68-.33-3.59-.69-7.17-.93-10.77-.27-3.95-.47-7.91-.62-11.87-.22-5.76-.52-11.52-.33-17.29.06-1.98.42-3.88,1.12-5.7.15.52.32,1.04.49,1.54-.05.23-.06.48-.02.7.42,2.04.84,4.07,1.31,6.09.84,3.67,1.84,7.31,2.43,11.04.77,4.84,1.54,9.69,2.07,14.56.43,4,.73,8,.75,12.02.02,3.8-.25,7.59-.68,11.36-.02.18-.26,1.96-.33,2.36-.43,2.57-.89,5.13-1.39,7.69-.32,1.63-.71,3.25-1.11,4.86-.48,1.95-1.23,3.79-2.24,5.54-1.38,2.39-1.89,4.96-1.5,7.69.42,2.97,1.37,5.78,2.76,8.42,1.65,3.12,3.32,6.22,4.35,9.61.13.44.87,1.55.93,1.75.28.9.59,1.79.84,2.7.87,3.17,1.33,6.39,1.11,9.7-.13,1.9-.58,3.72-1.08,5.53-.4,1.42-.73,2.86-.62,4.34.16,2.09,1.07,3.69,3.17,4.48.61.23,1.15.66,1.77,1.02-.12.56-.21,1.08-.34,1.58-.51,1.93-.36,3.79.57,5.57.05.1.11.2.14.3.15.58.54.73,1.12.73,3.28,0,6.56.04,9.84.07.19,0,.38-.03.56-.04.72-1.51.63-2.97-.2-4.33-.63-1.04-1.35-2.04-2.16-2.95-.85-.95-1.85-1.78-2.78-2.65-.22-.21-.46-.37-.44-.74.09-1.59-.41-3.07-.92-4.53-.54-1.56-.83-3.16-.93-4.8-.27-4.16-.02-8.31.1-12.46.05-1.49.04-5.71.2-5.73.09-.16,1.32-4.86,3.53-8.49,1.46-2.4,2.96-4.77,4.44-7.16.25-.41.5-.81.75-1.22.06.03.11.06.17.08-.27.63-.5,1.27-.81,1.87-.26.5-.28.99-.19,1.53.35,2.01,1.19,3.8,2.38,5.44.52.72,1.09,1.42,1.55,2.18,1.17,1.92,2.31,3.86,3.4,5.83.25.44.83,1.61.87,1.71,1.14,2.74,2.35,5.45,3.4,8.23,1.1,2.9,2.23,5.8,2.41,8.96.09,1.64.21,3.25-.27,4.85-.17.58-.24,1.19-.37,1.79-.44,2.12.83,3.75,2.99,4.42.85.26,1.71.48,2.52.7-.11,1.31-.33,2.55-.27,3.77.06,1.28.71,2.43,1.31,2.75h11.19c.57-.42.64-1.7,0-2.98-.28-.54-.54-1.12-.92-1.58-.27-.32-.54-.63-.81-.94-.16-.28-.36-.52-.62-.71-.51-.58-1.04-1.15-1.58-1.7-1.11-1.15-1.82-2.51-2.42-3.95-.08-.2-.08-.44-.07-.65.04-.72-.21-1.35-.53-1.98-.22-.44-.41-.91-.51-1.39-.85-4.07-1.69-8.14-2.52-12.21-.52-2.58-1.27-5.12-1.47-7.75-.02-.21-.07-1.77-.08-1.91-.07-3.33.15-6.65.52-9.95.38-3.39,1.33-6.62,2.92-9.66,1.04-1.98,2.54-3.49,4.62-4.42.94-.42,1.84-.94,2.75-1.43.27-.15,2.19-.33,2.8.03,4.54,2.66,9.02,5.39,13.18,8.62,1.52,1.18,3.07,2.34,4.66,3.42.8.54,1.72.92,2.61,1.31.58.25,1.19.23,1.81,0,.44-.17.91-.28,1.37-.39,2.68-.64,5.39-1.03,8.14-1.25,3.11-.25,6.22-.33,9.32.07,1.89.25,3.77.54,5.66.78,1.13.14,4.96.41,5.24.39,1.59-.12,3.19-.19,4.77-.39,3-.39,5.99-.88,8.99-1.27,2.56-.33,5.12-.62,7.69-.85,3.66-.34,7.32-.61,10.98-.92,1.11-.09,3.36-.67,3.37-.8.18,0,.76,4.42,1.22,6.02.6,2.05,1.12,4.11,1.59,6.2.74,3.32,2.56,11.67,2.57,11.94.06,4.69-.31,9.36-.96,14-.28,2-.65,3.99-.98,5.99-.15.91.07,1.7.71,2.38.27.28.54.56.84.82.89.77,1.78,1.53,2.68,2.27.29.23.46.46.37.84-.43,1.84.47,3.33,1.27,5.05h11.19c.59-1.32.66-2.1.12-3.19-.38-.77-.8-1.54-1.36-2.19-1.15-1.36-2.39-2.64-3.62-3.93-.48-.5-1.2-.88-1.45-1.46-.26-.62-.11-1.42-.09-2.13.02-.86-.17-1.64-.6-2.38-.19-.33-.32-.72-.35-1.09-.35-5.4-.05-10.74,1.34-16,.07-.26.78-2.33.9-2.63.48-1.14,1.16-2.15,2.02-3.05,1.24-1.29,2.09-2.78,2.62-4.49.35-1.13.88-2.21,1.38-3.45.16.3.25.43.31.58.18.47.35.94.52,1.41,1.3,3.57,5.04,11.53,5.12,11.79.26.88.55,1.75.77,2.63.54,2.13.74,4.31.92,6.49.29,3.44.27,6.86-.35,10.27-.13.7-.13,1.44-.09,2.15.07,1.24.73,2.14,1.86,2.67.45.21.94.36,1.41.53.26.09.51.18.79.28-.04.29-.03.52-.09.72-.54,1.87-.2,3.6.71,5.29.28.53.6.68,1.17.68,3.2,0,6.4.03,9.59.05.28,0,.55,0,.81,0,.59-1.1.67-2.13-.08-3.11-.51-.66-1-1.34-1.6-1.92-1.17-1.15-2.4-2.25-3.63-3.34-.36-.32-.5-.6-.4-1.07.17-.78.05-1.54-.26-2.28-.24-.59-.49-1.18-.75-1.76-.88-2-1.46-4.09-1.62-6.25-.28-3.84-.47-7.69-.7-11.53,0-.16.11-2.06.12-2.25.27-3.22.98-6.35,1.77-9.47.47-1.85.88-3.72,1.27-5.59.25-1.19.38-2.41.63-3.6.65-3.05,2.1-5.8,3.64-8.46,2.96-5.15,4.82-8.16,8.38-15.41,1.41-2.87,2.77-5.75,3.63-8.84.3-1.05.48-2.1.45-3.15.01-.07.04-.13.05-.2,0-.07.02-.13.03-.2.34-.92.68-1.91,1.05-2.98.24-.69.35-1.33.36-1.92.44-1.35.89-2.69,1.35-4.03.67-1.92,1.7-3.67,2.64-5.47,1.22-2.34,2.33-4.73,3.47-7.11.64-1.33,1.56-2.34,2.98-2.88.51-.2.99-.48,1.49-.75,1.45-.54,2.91-1.01,4.38-1.44,1.89-.42,3.78-.85,5.74-.82.22,0,.45-.04.67-.07,2.36-.28,4.73-.57,7.09-.85.61-.07,1.26-.22,1.84-.1,1.42.31,2.81.73,4.2,1.15.91.28,1.79.65,2.69.94.28.09.62.13.91.09.99-.16,3.8-.87,4.43-.94.42.07.84.09,1.29.02.63-.11,1.29-.11,1.92-.21.54-.08.99.05,1.4.39.44.36.92.57,1.51.65,2.07.26,4.15.23,6.21.08.97-.07,1.93-.33,2.87-.58,1-.26,1.73-.98,2.19-1.85.21-.1.41-.21.62-.32-.13.34-.29.67-.51,1-.07.1-.11.22-.17.33,2.25-.74,4.02-1.99,4.81-4.26.31-.88.3-1.79-.12-2.67Z" />
      </g>

      <g className={styles.lines}>
        <path d="M223.98,17.5c-.42,6.65-1.17,17.34-2.02,26.07-.58,5.86,1.04,14.26,3.04,21.89-.5.16-.99.33-1.48.51-.14.07-.28.15-.42.23-2.07-7.85-3.74-16.59-3.13-22.82.84-8.56,1.57-19.02,2-25.68,1.1-.1,1.77-.17,1.8-.17.07,0,.14,0,.21-.03ZM190.26,147.25c-3.25-.08-6.47-.37-9.12-.78.35.76.58,1.25.59,1.31.08.28.17.55.25.83,2.52.34,5.39.59,8.29.66-.02-.33-.04-.65-.06-.98,0-.08.02-.54.05-1.04ZM159.76,148.66c0,.26.01.53.01.79,3.13-.05,6.23-.4,8.87-.88.07-.32.15-.63.23-.95.03-.12.21-.65.4-1.21-2.78.57-6.25,1.01-9.74,1.05.14.69.23,1.14.23,1.2ZM201.41,112.35c.98-1.74,1.98-3.61,3.17-5.96-8.02,9.61-17.26,11.21-29.59,13.35-6.03,1.04-12.7,2.21-20.11,4.52l-.49.25c.08,0,.23.82.41,1.88,7.56-2.42,14.38-3.62,20.53-4.68,10.1-1.76,18.63-3.23,26.08-9.36ZM53.07,143.15c-.02-.18-.06-1.3-.08-1.74-3.52,1.06-7.79,1.32-12.08.74.28.53.67,1.3.7,1.38.1.25.21.5.31.75,3.95.37,7.85.09,11.18-.82-.01-.1-.02-.21-.03-.31ZM33.73,43c-.35-3.49.74-8.07,2.39-12.88,5.93,2.21,20.92,2.31,36.7,2.43,8.89.06,18.08.12,25.49.58,12.61.78,13.49,3.61,13.54,4.16.14,1.68-3.18,3.96-7.1,4.88-3.59.84-16.5,1.43-30.17,2.06-16.73.77-33.99,1.56-40.61,2.98-.04-1.52-.12-2.94-.24-4.21ZM74.67,46.23c1.44-.07,2.86-.13,4.25-.2.62,7.04.89,13.24.91,18.6-8.36-2.42-30.47-.42-42.68.69-1.17.11-2.21.2-3.11.28-.05-3.19-.04-6.32-.02-9.27.01-2.54.03-4.91,0-7.08,6.07-1.44,24.41-2.28,40.65-3.02ZM79.83,66.72c-.11,10.86-1.3,18.05-2.78,21.79-14.97,1.18-28.25,2.58-39.05,4.03-2.85-7.13-3.7-16.19-3.92-24.94.93-.08,2.02-.18,3.25-.29,11.55-1.05,35.25-3.19,42.5-.59ZM32.02,56.32c-.07,11.6-.14,25.88,3.93,36.5-9.65,1.34-17.16,2.72-21.93,3.99-.09.6-.2,1.37-.24,1.62-.03.18-.06.37-.1.55,4.7-1.36,12.64-2.83,23.05-4.27l.04.07c5.08,7.7,17.02,15.25,24.92,20.24.56.36,1.11.7,1.62,1.02.16-.08.33-.17.49-.26.28-.15,2.2-.33,2.8.02.08.04.15.09.23.13-1.14-.75-2.52-1.62-4.07-2.6-7.5-4.74-18.68-11.82-23.79-18.92,19.42-2.58,46.72-4.99,77.44-6.29-.33,1.17-.68,2.33-1.02,3.44-2.71,8.78-5.28,17.11.87,37.05.91.07,1.76.12,2.14.14-6.26-19.89-3.75-28.03-1.1-36.6.41-1.32.82-2.7,1.21-4.12,13.51-.55,27.65-.88,42.05-.92-2.63,8.02-6.63,23.51-7.74,37.81-.17.06-.34.12-.52.18,1.02-.21,2.08-.5,2.09-.59l.49-.25c1.21-14.27,5.25-29.6,7.79-37.15,15.13-.01,30.53.32,45.76,1.06.53,1.98,1.01,3.95,1.37,5.92.21-.86.33-1.72.31-2.58,0-.07.04-.12.05-.19s0-.14.02-.21c.21-.56.41-1.14.63-1.76-.86-3.39-1.92-6.79-3.01-10.28-3.11-9.97-6.33-20.28-5.22-32.2.5-5.38.8-18.03.95-27.53-.69.06-1.36.12-2,.17-.16,9.44-.45,21.88-.94,27.17-1.14,12.33,2.13,22.83,5.3,32.99.69,2.19,1.35,4.34,1.97,6.47-14.81-.71-29.77-1.02-44.5-1.02,5.4-14.76,5.99-45.99,5.85-63.65-.7.11-1.38.2-2.01.29.11,17.25-.49,48.51-5.75,62.76-.07.19-.14.39-.21.6-14.44.03-28.63.35-42.19.9,2.03-8.12,1.99-11.7,1.83-25-.04-3.35-.09-7.33-.11-12.17-.08-14.7,1.15-24.06,2.38-30.38-.62-.03-1.3-.07-2.02-.11-1.22,6.41-2.44,15.83-2.36,30.5.02,4.85.07,8.83.11,12.19.17,13.71.2,16.78-1.92,25.05-13.32.56-26.01,1.33-37.71,2.23,2.7-7.81,3.33-23.33,1.67-42.39,11.6-.54,21.08-1.07,24.29-1.82,4.38-1.04,8.9-3.84,8.63-7-.29-3.36-5.47-5.37-15.4-5.98-4.01-.25-8.54-.38-13.24-.46.79-4.29,1.66-8.98,3.19-13.95-.66-.03-1.04-.05-1.06-.05-.34.01-.68.01-1.02.02-1.47,4.91-2.32,9.51-3.1,13.74l-.04.2c-3.41-.04-6.89-.07-10.33-.09-15.15-.11-30.76-.22-36.05-2.3,1.5-4.08,3.32-8.26,4.98-12.05.6-1.39,1.19-2.73,1.74-4.01-.23-.03-.45-.04-.68-.06-.08-.01-.63-.14-1.34-.31-.5,1.16-1.03,2.37-1.56,3.58-4.18,9.57-8.92,20.42-8.19,27.79.33,3.44.31,7.93.28,13.13ZM14.66,142.23c.14.44.87,1.55.94,1.76.03.1.06.2.1.3,1.17.14,2.31.19,3.43.19,2.2,0,4.3-.21,6.26-.48.02-.9.04-1.69.09-2.04-3.29.48-6.97.78-10.85.18l.03.09ZM26.34,8.9c-.24-.01-.48-.02-.71-.03,2.33,3.3,3.56,6.03,2.91,8.28-.6,2.03-2.79,3.68-6.71,5.02-9.82,3.38-12.96,9.83-14.3,17.22.07-.22.15-.43.23-.64.15.52.32,1.03.49,1.54-.05.23-.06.48-.01.7.21,1.05.43,2.09.65,3.13.94-8.83,2.89-16.37,13.59-20.05,4.57-1.58,7.18-3.66,7.98-6.36.78-2.7-.4-5.67-2.24-8.57-1-.14-1.75-.23-1.88-.24Z" />
      </g>

      {/* Rump region */}
      <Region
        part="RUMP"
        label="RUMP"
        selected={isSel("RUMP")}
        disabled={isDis("RUMP")}
        onSelect={onSelectPart}
      >
        <path d="M38.06,10.97c.76.18,2.3.57,3.43.85-.5,1.16-1.03,2.37-1.56,3.58-4.18,9.57-8.92,20.42-8.19,27.79.33,3.44.31,7.93.28,13.13-.07,11.6-.14,25.88,3.93,36.5-9.65,1.34-17.16,2.72-21.93,3.99.05-.37.08-.67.09-.74.43-3.78.7-7.56.68-11.36-.01-4.02-.32-8.03-.75-12.03-.52-4.87-1.29-9.72-2.07-14.56-.59-3.73-1.58-7.36-2.42-11.03-.23-.99-.45-1.98-.66-2.97.94-8.83,2.89-16.37,13.59-20.05,4.57-1.58,7.18-3.66,7.98-6.36.78-2.7-.4-5.67-2.24-8.57,1.8.24,4.4.62,5.55.85,1.44.25,2.88.58,4.29.98Z" />
      </Region>

      {/* Tenderloin region */}
      <Region
        part="TENDERLOIN"
        label="TENDERLOIN"
        selected={isSel("TENDERLOIN")}
        disabled={isDis("TENDERLOIN")}
        onSelect={onSelectPart}
      >
        <path d="M111.85,37.29c.14,1.68-3.18,3.96-7.1,4.88-3.59.84-16.5,1.43-30.17,2.06-16.73.77-33.99,1.56-40.61,2.98-.04-1.52-.12-2.94-.24-4.21-.35-3.49.74-8.07,2.39-12.88,5.93,2.21,20.92,2.31,36.7,2.43,8.89.06,18.08.12,25.49.58,12.61.78,13.49,3.61,13.54,4.16Z" />
      </Region>

      {/* Sirloin region */}
      <Region
        part="SIRLOIN"
        label="SIRLOIN"
        selected={isSel("SIRLOIN")}
        disabled={isDis("SIRLOIN")}
        onSelect={onSelectPart}
      >
        <path d="M86.31,16.7c-1.47,4.91-2.32,9.51-3.1,13.74l-.04.2c-3.41-.04-6.89-.07-10.33-.09-15.15-.11-30.76-.22-36.05-2.3,1.5-4.08,3.32-8.26,4.98-12.05.6-1.39,1.19-2.73,1.74-4.01,1.39.11,2.79.28,4.18.24,4.84-.15,9.49.58,14,2.32,2.65,1.03,5.39,1.76,8.23,2,1.84.16,3.69.19,5.54.17,3.62-.04,7.23-.14,10.85-.22Z" />
      </Region>

      {/* Ribeye region */}
      <Region
        part="RIBEYE"
        label="RIBEYE"
        selected={isSel("RIBEYE")}
        disabled={isDis("RIBEYE")}
        onSelect={onSelectPart}
      >
        <path d="M167.2,21.76c.11,17.25-.49,48.51-5.75,62.76-.07.19-.14.39-.21.6-14.44.03-28.63.35-42.19.9,2.03-8.12,1.99-11.7,1.83-25-.04-3.35-.09-7.33-.11-12.17-.08-14.7,1.15-24.06,2.38-30.38,2.5.14,4.16.24,4.45.27,3.73.46,7.45.93,11.17,1.45,1.75.25,3.49.58,5.21.96,2.86.62,5.76.91,8.68.99,3.7.1,7.4.27,11.1.05.43-.03,1.76-.19,3.44-.43Z" />
      </Region>

      {/* Short-loin region */}
      <Region
        part="SHORT_LOIN"
        label="SHORT_LOIN"
        selected={isSel("SHORT_LOIN")}
        disabled={isDis("SHORT_LOIN")}
        onSelect={onSelectPart}
      >
        <path d="M121.13,18.36c-1.22,6.41-2.44,15.83-2.36,30.5.02,4.85.07,8.83.11,12.19.17,13.71.2,16.78-1.92,25.05-13.32.56-26.01,1.33-37.71,2.23,2.7-7.81,3.33-23.33,1.67-42.39,11.6-.54,21.08-1.07,24.29-1.82,4.38-1.04,8.9-3.84,8.63-7-.29-3.36-5.47-5.37-15.4-5.98-4.01-.25-8.54-.38-13.24-.46.79-4.29,1.66-8.98,3.19-13.95,4.58.22,22.82,1.11,32.74,1.63Z" />
      </Region>
    </svg>
  );
}

function ChickenChart({
  selectedPart,
  onSelectPart,
  isAvailable,
}: ChartBaseProps) {
  const REGION_PARTS: PartKey[] = ["BREAST", "THIGH"]; // WHOLE_BIRD is taken out, extend later if needed
  const currentIndex = Math.max(
    0,
    REGION_PARTS.findIndex((p) => p === selectedPart)
  );

  // Arrow key cycling for accessibility
  const onKeyDown = (e: React.KeyboardEvent<SVGSVGElement>) => {
    if (!REGION_PARTS.length) return;
    if (e.key === "ArrowRight" || e.key === "ArrowDown") {
      e.preventDefault();
      const next = REGION_PARTS[(currentIndex + 1) % REGION_PARTS.length];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
    if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
      e.preventDefault();
      const next =
        REGION_PARTS[
          (currentIndex - 1 + REGION_PARTS.length) % REGION_PARTS.length
        ];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
  };

  const isSel = (p: PartKey) => selectedPart === p;
  const isDis = (p: PartKey) => (isAvailable ? !isAvailable(p) : false);

  return (
    <svg
      className={styles.svgBox}
      viewBox="0 0 280 180"
      shapeRendering={"geometricPrecision"}
      tabIndex={0}
      onKeyDown={onKeyDown}
      aria-labelledby="chicken-title"
    >
      <title id="chicken-title">Chicken cut chart</title>

      {/* Whole chicken base */}
      <g className={styles.base}>
        <path d="M88.58,146.95c1.05,3.08,2.8,8.16,5.01,9.89,2.28,1.78,3.99,1.19,6.21,1.22.99.01,2.13.12,2.85.69,1.26.11,2.09.56,2.6,1.27-.49-.09-1.2-.04-1.89.15v.06c5.13.08,10.33-.74,11.83.55,1.23.13,2.31.8,2.92,2.4-1.09-.27-1.9-.29-2.85.07-.59.54-1.49.66-2.5.61-6.22-.31-11.22.16-17.63-.45.8.28,2.35.74,2.43,1.9.33.29.64.71.8,1.17-.29-.16-.84-.31-1.3-.34-1.41.66-5.18-.63-6.77-.93.09.28.19.56.31.85,1.3,1.01,3.04,1.02,4.54.96,1.35-.06,3.11-.19,3.88.6.97.09,1.45.47,1.84,1.03-.4-.08-1.07,0-1.64.18-.18.73-.9.91-1.31.95,1.89.14,3.74.23,5.58.27,2.37.05,7.46-1.09,9.38.29.92.25,1.9.96,2.36,2.08-.9-.22-1.55-.15-2.34.09-1.48,1.34-6.17.69-8.15.75-3.12.1-5.59.21-7.49.41,1.31.67,1.99,1.33,4.26,1.9,1.24.31,2.1.22,3.15.44.9.19,1.54.67,1.89,1.49.66.62,1.09,1.38,1.25,2.52-.53-.46-1.14-.62-1.88-.64-1,.11-1.77.05-2.5-.16-1.01-.3-1.66-.65-2.8-.92-3.5-.84-6.24-1.9-8.82-3.01-4.41.38-7.07-.39-7.68-2.49-.47-.15-.93-.3-1.39-.46-.81,1.58-3.19,2.63-5.24,1.59-.84-.23-1.67-.24-2.62-.07.75-.75,1.48-1.18,2.37-1.4.39-1.48,4.21-3.12,4.92-6.83-.33-1.17-.66-2.35-.99-3.52-1.29.89-2.61,1.28-4.17.56-.78-.07-1.3.01-2.29.42.5-1.01,1.39-1.52,2.05-1.72.62-1.31,2.78-1.8,3.39-3.11-.47-3.37-1.52-6.75-3.09-10.12-6.52-.84-13.54-4.27-16.61-10.36-16.49-4.15-28.72-13.34-35.72-29.06-5.08-1.55-11.9-3.31-14.8-9.22-1.13-2.67-.7-6.35,2.06-7.75-3.88-2.23-7.08-5.42-7.98-9.99-.31-2.63.23-5.72,3.18-6.44-2.6-2.55-4.6-5.61-5.22-9.33-.56-3.13.63-8.11,4.52-8.24-2.41-3.9-3.5-8.34-2.14-13.22.76-2.47,2.82-5.85,5.92-4.67-.67-3.57-.23-7.3,1.83-11.15,1.43-2.4,4.43-5.26,7.36-3.43.02-1.59.3-3.09.81-4.6.88-2.55,2.49-4.9,4.73-6.38,3.49-2.24,6.97-1.54,7.92,2.84,1.5-4.44,4.71-8.09,9.75-9.27.73-.15,1.51-.25,2.37-.12,3.69.5,3.51,3.6,3.03,6.25-1.87,11.77.57,26.26,4.56,36.65,8.83,6.41,17.95,10.74,30.1,11.09,5.66-4.2,14.59-8.21,21.15-9.76.91-1.46,1.81-2.91,2.7-4.37,9.34-15.81,13.73-30.63,27.43-35.14-2.4-1.92-3.82-6.9-.58-9.02.16-3.95,3.47-4.78,6.36-1.02.36.43.73.93.82.25.14-1.11.48-2.38,1.25-1.19.76,1.07,1.17,3.03,1.78.88.25-.74.5-2.25,1.34-.27.34.79.5,1.51.75,2.31.28.87.59,1.36,1.04.63.17-.27.18-.46.29-.74.28-.7.63-.48.89.22.19.53.31,1.04.44,1.55.22.88,1.06,2.18,1.66.59.13-.27.28-1.09.55-1.09.36,0,.6.88.84,1.9.47,2,1.25,3.09,1.95,4.34,1.32,2.35,2.42,5.46.55,8.29,1.08.53,3.18,1.9,4.18,4.4-2.13-.12-2.7.86-6.18.56,3.09,5.28-.79,13-7.9,11.12-1.95,18.92,16.25,62-20.27,88.96-4.36,7.1-15.3,12.68-23.59,12.67-1.85,4.23-6.56,7.71-11.61,9.15Z" />
      </g>

      <g className={styles.lines}>
        <path d="M121.81,32.69c7.05,6.11,15.19,13.18,23.09,19.04.1.9.21,1.81.33,2.73-8.44-6.12-17.2-13.73-24.73-20.26-1.55-1.35-3.06-2.65-4.49-3.88.33-.6.67-1.2,1.01-1.78,1.5,1.29,3.1,2.69,4.79,4.15ZM131.29,75.28c-3.79,11.78-15.13,30.49-28.32,39.36.16-.51.3-1.03.42-1.55,1.4-6.1.08-12.9-3.54-18.2-1.4-2.05-3.02-3.71-4.8-5.05,8.22-5.91,16.26-17.21,21.18-24.75,4.22,3.57,9.21,7.1,15.06,10.19ZM86.98,128.03c-5.62,1.66-12.19.98-18.49-1.91-.89-.41-1.79-.86-2.68-1.37-.58-.32-1.16-.66-1.74-1.03-3.55-2.2-7.15-5.17-11.05-9.07-4.65-4.64-8.87-9.66-12.63-15.01-.4-.57-.79-1.14-1.18-1.71-2.33-3.46-4.47-7.04-6.41-10.75-1.79-3.41-3.4-7.07-3.1-10.73.28-3.39,2.9-7.02,6.35-7.02,2.73,0,5.06,2.09,7.32,4.11l.43.39c1.95,1.74,3.91,3.3,5.87,4.67.56.4,1.13.78,1.69,1.14,6.86,4.46,13.72,6.67,20.51,6.58,6.63-.08,13.75.39,19.5,3.54.65.35,1.28.74,1.9,1.17,1.85,1.29,3.52,2.93,4.93,4.99,2.44,3.58,3.74,7.89,3.74,12.14,0,1.52-.16,3.02-.5,4.48-.29,1.27-.72,2.51-1.26,3.71-.48,1.06-1.05,2.09-1.71,3.06-.59.89-1.25,1.73-1.96,2.52-.46.51-.94.99-1.44,1.45-2.32,2.13-5.1,3.77-8.09,4.65ZM146.83,79.52c-4.81-1.46-9.19-3.27-13.19-5.28-.6-.3-1.19-.6-1.77-.92-5.65-3.02-10.47-6.45-14.54-9.92-.53-.44-1.04-.89-1.54-1.34-4.65-4.17-8.22-8.31-10.84-11.78-.34.57-.69,1.13-1.05,1.69-.05.01-.09.02-.14.04,2.69,3.5,6.3,7.62,10.93,11.74-8.18,12.42-15.33,20.75-21.38,24.9-6.27-3.86-14.15-4.42-21.46-4.33-6.48.08-13.12-2.1-19.78-6.51,3.09-8.68,4.92-17.31,5.97-23.57-.62-.37-1.22-.75-1.83-1.15-.99,6.13-2.77,14.81-5.84,23.57-1.75-1.26-3.49-2.66-5.24-4.22l-.43-.39c-2.42-2.17-5.16-4.62-8.65-4.62h-.01c-4.69.01-7.98,4.6-8.33,8.86-.35,4.16,1.39,8.14,3.32,11.82,2.06,3.93,4.35,7.74,6.84,11.39-1.58,1.8-3.31,3.44-5.17,4.86-2.51,1.92-5.18,3.36-7.99,4.33.01,0,.03.01.04.01.27.61.55,1.21.84,1.8,2.93-1.03,5.71-2.55,8.33-4.55,1.84-1.4,3.54-3,5.13-4.76,3.74,5.29,7.94,10.27,12.56,14.88,4.07,4.06,7.83,7.15,11.55,9.46-1.8,3.73-3.27,7.77-4.47,11.77.59.16,1.18.32,1.78.47.04.08.08.16.13.24,1.17-3.92,2.6-7.85,4.32-11.45.91.5,1.82.96,2.73,1.38,4.31,1.97,8.75,2.98,12.98,2.98,2.39,0,4.72-.32,6.91-.97,3.19-.94,6.11-2.6,8.57-4.77,1.83,3.45,3.19,7.63,4.1,12.62.65,0,1.33-.03,2.01-.1-.99-5.54-2.52-10.17-4.62-13.96l.11-.11,4.06-5.94c14.33-8.43,26.92-28.64,31.27-41.52,4.15,2.08,8.7,3.92,13.69,5.41.04-.69.07-1.37.1-2.06Z" />
      </g>

      {/* Breast region */}
      <Region
        part="BREAST"
        label="BREAST"
        selected={isSel("BREAST")}
        disabled={isDis("BREAST")}
        onSelect={onSelectPart}
      >
        <path d="M133.04,76.17c4.15,2.08,8.7,3.92,13.69,5.41-.92,15.31-6.14,31.14-22.95,43.55-4.02,6.53-13.6,11.78-21.56,12.57-.99-5.54-2.52-10.17-4.62-13.96l.11-.11,4.06-5.94c14.33-8.43,26.92-28.64,31.27-41.52Z" />
      </Region>

      {/* Thigh region */}
      <Region
        part="THIGH"
        label="THIGH"
        selected={isSel("THIGH")}
        disabled={isDis("THIGH")}
        onSelect={onSelectPart}
      >
        <path d="M95.14,163.42c.8.28,2.35.75,2.43,1.9.32.29.64.71.8,1.17-.29-.16-.84-.31-1.3-.34-1.41.65-5.19-.63-6.77-.94.09.29.19.57.31.85,1.3,1.01,3.04,1.02,4.54.96,1.34-.06,3.11-.19,3.88.6.97.09,1.45.47,1.85,1.02-.4-.07-1.08.01-1.64.18-.18.73-.9.91-1.32.96,1.89.13,3.74.23,5.58.27,2.37.05,7.46-1.09,9.38.28.92.25,1.9.96,2.36,2.08-.89-.22-1.55-.15-2.34.09-1.48,1.34-6.17.69-8.15.75-3.12.1-5.59.21-7.49.41,1.3.67,1.98,1.33,4.26,1.9,1.24.31,2.1.22,3.14.44.91.18,1.55.66,1.9,1.48.66.63,1.09,1.38,1.24,2.52-.53-.46-1.13-.62-1.87-.64-1,.12-1.77.05-2.5-.16-1.02-.31-1.66-.65-2.81-.92-3.5-.84-6.23-1.9-8.81-3.01-4.41.38-7.07-.39-7.68-2.49-.47-.15-.93-.3-1.39-.46-.81,1.58-3.19,2.63-5.25,1.6-.83-.24-1.67-.24-2.61-.07.75-.75,1.47-1.19,2.37-1.4.38-1.47,4.21-3.12,4.92-6.83-.33-1.18-.66-2.35-.99-3.53-1.29.9-2.61,1.29-4.17.56-.78-.07-1.3.01-2.29.42.5-1.01,1.39-1.52,2.05-1.71.62-1.32,2.78-1.8,3.4-3.11-.47-3.37-1.52-6.75-3.1-10.12-6.42-.83-13.35-4.18-16.47-10.12,1.17-3.92,2.6-7.85,4.32-11.45.91.5,1.82.96,2.73,1.38,4.31,1.97,8.75,2.98,12.98,2.98,2.39,0,4.72-.32,6.91-.97,3.19-.94,6.11-2.6,8.57-4.77,1.83,3.45,3.19,7.63,4.1,12.62h-.02c-1.85,4.23-6.56,7.71-11.61,9.15,1.04,3.07,2.79,8.16,5.01,9.89,2.27,1.78,3.98,1.19,6.21,1.22.99.02,2.13.12,2.85.69,1.26.11,2.09.56,2.6,1.27-.49-.09-1.2-.04-1.89.15v.06c5.13.08,10.33-.73,11.83.55,1.23.14,2.31.8,2.92,2.41-1.09-.27-1.91-.29-2.85.07-.59.54-1.49.66-2.5.61-6.21-.31-11.21.16-17.62-.45Z" />
      </Region>

      {/* Whole bird region 
      <Region
        part="WHOLE_BIRD"
        label="WHOLE_BIRD"
        selected={isSel("WHOLE_BIRD")}
        disabled={isDis("WHOLE_BIRD")}
        onSelect={onSelectPart}
      >
        <path d="M145.23,54.46c.91,7.62,1.92,16.23,1.6,25.06-4.81-1.46-9.19-3.27-13.19-5.28-.6-.3-1.19-.6-1.77-.92-5.65-3.02-10.47-6.45-14.54-9.92-.53-.44-1.04-.89-1.54-1.34-4.65-4.17-8.22-8.31-10.84-11.78.56-.89,1.11-1.78,1.66-2.68,3.59-6.09,6.45-12.03,9.4-17.28,1.43,1.23,2.94,2.53,4.49,3.88,7.53,6.53,16.29,14.14,24.73,20.26Z" />
        <path d="M133.04,76.17c4.15,2.08,8.7,3.92,13.69,5.41-.92,15.31-6.14,31.14-22.95,43.55-4.02,6.53-13.6,11.78-21.56,12.57-.99-5.54-2.52-10.17-4.62-13.96l.11-.11,4.06-5.94c14.33-8.43,26.92-28.64,31.27-41.52Z" />
        <path d="M131.29,75.28c-3.79,11.78-15.13,30.49-28.32,39.36.16-.51.3-1.03.42-1.55,1.4-6.1.08-12.9-3.54-18.2-1.4-2.05-3.02-3.71-4.8-5.05,8.22-5.91,16.26-17.21,21.18-24.75,4.22,3.57,9.21,7.1,15.06,10.19Z" />
        <path d="M114.69,63.75c-8.18,12.42-15.33,20.75-21.38,24.9-6.27-3.86-14.15-4.42-21.46-4.33-6.48.08-13.12-2.1-19.78-6.51,3.09-8.68,4.92-17.31,5.97-23.57,7.23,4.39,15.01,7.22,24.71,7.49,5.63-4.17,14.47-8.15,21.01-9.72,2.69,3.5,6.3,7.62,10.93,11.74Z" />
        <path d="M95.14,163.42c.8.28,2.35.75,2.43,1.9.32.29.64.71.8,1.17-.29-.16-.84-.31-1.3-.34-1.41.65-5.19-.63-6.77-.94.09.29.19.57.31.85,1.3,1.01,3.04,1.02,4.54.96,1.34-.06,3.11-.19,3.88.6.97.09,1.45.47,1.85,1.02-.4-.07-1.08.01-1.64.18-.18.73-.9.91-1.32.96,1.89.13,3.74.23,5.58.27,2.37.05,7.46-1.09,9.38.28.92.25,1.9.96,2.36,2.08-.89-.22-1.55-.15-2.34.09-1.48,1.34-6.17.69-8.15.75-3.12.1-5.59.21-7.49.41,1.3.67,1.98,1.33,4.26,1.9,1.24.31,2.1.22,3.14.44.91.18,1.55.66,1.9,1.48.66.63,1.09,1.38,1.24,2.52-.53-.46-1.13-.62-1.87-.64-1,.12-1.77.05-2.5-.16-1.02-.31-1.66-.65-2.81-.92-3.5-.84-6.23-1.9-8.81-3.01-4.41.38-7.07-.39-7.68-2.49-.47-.15-.93-.3-1.39-.46-.81,1.58-3.19,2.63-5.25,1.6-.83-.24-1.67-.24-2.61-.07.75-.75,1.47-1.19,2.37-1.4.38-1.47,4.21-3.12,4.92-6.83-.33-1.18-.66-2.35-.99-3.53-1.29.9-2.61,1.29-4.17.56-.78-.07-1.3.01-2.29.42.5-1.01,1.39-1.52,2.05-1.71.62-1.32,2.78-1.8,3.4-3.11-.47-3.37-1.52-6.75-3.1-10.12-6.42-.83-13.35-4.18-16.47-10.12,1.17-3.92,2.6-7.85,4.32-11.45.91.5,1.82.96,2.73,1.38,4.31,1.97,8.75,2.98,12.98,2.98,2.39,0,4.72-.32,6.91-.97,3.19-.94,6.11-2.6,8.57-4.77,1.83,3.45,3.19,7.63,4.1,12.62h-.02c-1.85,4.23-6.56,7.71-11.61,9.15,1.04,3.07,2.79,8.16,5.01,9.89,2.27,1.78,3.98,1.19,6.21,1.22.99.02,2.13.12,2.85.69,1.26.11,2.09.56,2.6,1.27-.49-.09-1.2-.04-1.89.15v.06c5.13.08,10.33-.73,11.83.55,1.23.14,2.31.8,2.92,2.41-1.09-.27-1.91-.29-2.85.07-.59.54-1.49.66-2.5.61-6.21-.31-11.21.16-17.62-.45Z" />
        <path d="M98.2,96.02c2.44,3.58,3.74,7.89,3.74,12.14,0,1.52-.16,3.02-.5,4.48-.29,1.27-.72,2.51-1.26,3.71-.48,1.06-1.05,2.09-1.71,3.06-.59.89-1.25,1.73-1.96,2.52-.46.51-.94.99-1.44,1.45-2.32,2.13-5.1,3.77-8.09,4.65-5.62,1.66-12.19.98-18.49-1.91-.89-.41-1.79-.86-2.68-1.37-.58-.32-1.16-.66-1.74-1.03-3.55-2.2-7.15-5.17-11.05-9.07-4.65-4.64-8.87-9.66-12.63-15.01-.4-.57-.79-1.14-1.18-1.71-2.33-3.46-4.47-7.04-6.41-10.75-1.79-3.41-3.4-7.07-3.1-10.73.28-3.39,2.9-7.02,6.35-7.02,2.73,0,5.06,2.09,7.32,4.11l.43.39c1.95,1.74,3.91,3.3,5.87,4.67.56.4,1.13.78,1.69,1.14,6.86,4.46,13.72,6.67,20.51,6.58,6.63-.08,13.75.39,19.5,3.54.65.35,1.28.74,1.9,1.17,1.85,1.29,3.52,2.93,4.93,4.99Z" />
        <path d="M63.16,125.53c-1.8,3.73-3.27,7.77-4.47,11.77-14.96-4.18-26.25-12.72-33.1-26.8,2.93-1.03,5.71-2.55,8.33-4.55,1.84-1.4,3.54-3,5.13-4.76,3.74,5.29,7.94,10.27,12.56,14.88,4.07,4.06,7.83,7.15,11.55,9.46Z" />
      </Region>*/}
    </svg>
  );
}

function TurkeyChart({
  selectedPart,
  onSelectPart,
  isAvailable,
}: ChartBaseProps) {
  const REGION_PARTS: PartKey[] = ["BREAST", "THIGH"]; // WHOLE_BIRD is taken out, extend later if needed
  const currentIndex = Math.max(
    0,
    REGION_PARTS.findIndex((p) => p === selectedPart)
  );

  // Arrow key cycling for accessibility
  const onKeyDown = (e: React.KeyboardEvent<SVGSVGElement>) => {
    if (!REGION_PARTS.length) return;
    if (e.key === "ArrowRight" || e.key === "ArrowDown") {
      e.preventDefault();
      const next = REGION_PARTS[(currentIndex + 1) % REGION_PARTS.length];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
    if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
      e.preventDefault();
      const next =
        REGION_PARTS[
          (currentIndex - 1 + REGION_PARTS.length) % REGION_PARTS.length
        ];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
  };

  const isSel = (p: PartKey) => selectedPart === p;
  const isDis = (p: PartKey) => (isAvailable ? !isAvailable(p) : false);

  return (
    <svg
      className={styles.svgBox}
      viewBox="0 0 280 180"
      shapeRendering={"geometricPrecision"}
      tabIndex={0}
      onKeyDown={onKeyDown}
      aria-labelledby="turkey-title"
    >
      <title id="chicken-title">Turkey cut chart</title>

      {/* Whole turkey base */}
      <g className={styles.base}>
        <path d="M38.65.22c1.45-.43,2.97-.1,4.46-.06,2.37.04,4.81.71,6.65,2.27.9-1.87,2.98-.35,4.34.05,1.52.36,2.18,2.17,3.8,2.26,2.24.37,3.86,2.16,5.17,3.88.3.62,1.05.37,1.6.5.78.35,1.18,1.19,1.89,1.65.71.36,1.57.48,2.16,1.05,1.99,1.94,3.07,4.55,4.4,6.94.04-.67.07-1.35.1-2.02,2.45,1.28,4.14,3.65,5.22,6.15.81,1.93,1.89,3.73,2.8,5.61.67-.6,1.4-1.15,2.33-.7.76-1.19,1.99-2.05,3.34-2.46.54-.17.93.36,1.37.57.88-1.08,2.38-1.9,3.71-1.03,1.04-1.01,2.73-2.38,4.16-1.22.02.21.07.61.09.81.82-.54,1.68-1.13,2.68-1.25.74-.08,1.39.36,2.04.65,1.51-1.19,4.24-1.78,5.37.22.82-.64,1.71-1.48,2.84-1.4.61.05.74.74,1.04,1.16.72-.43,1.53-1.01,2.42-.77.66.2.86.94,1.18,1.46.66-.29,1.29-.8,2.05-.76.78.17,1.19.93,1.65,1.51.68-.49,1.33-1.25,2.25-1.22.76.28,1.18,1.03,1.72,1.59,1.2-.98,2.81-.9,4,.06,1.69-.78,3.55.11,4.46,1.61,2.14.42,3.32,2.41,4.41,4.1,3.42,5.39,7.39,10.69,12.95,14.03-.56-1.12-1.25-2.17-1.87-3.27-1.62-2.79-4.14-4.92-5.69-7.76-1.76-2.86-2.57-6.31-2.02-9.65.16-1.19.96-2.17,1.11-3.35.13-.1.4-.3.53-.4.36-.72.64-1.57,1.49-1.85,1.82-2.21,4.93-2.43,7.6-2.35,3.16.08,6.13,1.55,8.51,3.56,1.51,1.22,2.01,3.15,2.59,4.91,3.65.9,6.26,3.18,7.01,6.57-1.24-1.16-3.73-1.38-4.8-1.17.73,2.49.96,3.41.97,6.04.02,2.81.21,5.62-.01,8.43.02.51-.38,1.47-.95.88-1.57-2.88-1.87-6.25-2.64-9.4-.35-1.13-.96-2.46-2.21-2.78-.86-.19-2.12-.52-2.59.49-.76.87.1,1.85.59,2.6,2.57,3.51,5.09,7.11,6.89,11.08.02,1.28.82,2.26,1.34,3.37.54.61,1.39.97,1.69,1.77.17.75.07,1.52.08,2.28,1.3,1.35,2.49,3.01,2.46,4.97.08,1-.55,1.83-1.2,2.5.72,2.5,2.4,4.55,3.93,6.6,1.38,1.68,2.66,3.44,4.05,5.12,2.44,2.79,4,6.23,5.14,9.73.74,2.18.1,4.51.69,6.7.53,2.28.12,4.65-.59,6.85,2.93,3.8,4.93,8.45,5.23,13.26-.53-.44-.46-1.19-.68-1.77.34,3.85.02,7.7-.63,11.49-.03-.89-.07-1.78-.16-2.66-1.08,2.27-1.7,4.8-2.87,6.99-.11-.9-.15-1.81-.21-2.72-.45,1.44-.83,2.9-1.25,4.34-.07.39-.13.79-.19,1.18l-.48-.08c.02.27.05.8.07,1.06-.12-.44-.23-.89-.33-1.34l.62.31c-.27-1.09-.39-2.21-.51-3.32-.22.92-.36,1.85-.59,2.76-.53-1.47-.1-3.07-.23-4.58-.6.8-.87,1.78-1.32,2.66.54-3.26,1.18-6.52,1.26-9.82-.72,1.53-.73,3.26-1.29,4.85.44-3.39.76-6.83.38-10.24-.6,1.79-1.25,3.86-3.09,4.74-.38,1.39-.82,2.84-1.84,3.9-.92.88-2.2,1.23-3.2,1.98-.57.98-.99,2.08-1.85,2.86-.86.89-2.09,1.22-3.11,1.85-1.81,1.72-3.12,4-5.32,5.28-1.88,1.05-3.63,2.46-5.82,2.85-.6.05-.95.58-1.35.96-1.5,1.58-3.31,3.07-5.53,3.4-.03-.22-.1-.67-.13-.89-.87.46-1.36,1.44-2.17,2.01-.86.79-2.14.81-2.99,1.61-.97.85-2.46,1.15-3.61.5-1.65,1.36-4,2.65-6.09,1.44-1.93,1.43-4.29,2.27-6.69,2.29-.74.03-1.42-.27-2.05-.62-.82.53-1.68,1.02-2.6,1.36,1.81,5.49,3.85,10.97,6.84,15.93,1.14,2.1,3.75,2.4,5.88,2.65,2.74.39,5.53-1.14,8.19-.02.98.31,1.4,1.32,2.07,2,1.84.31,3.83.69,5.23,2.03.87.83,1.14,2.05,1.21,3.22-1.05-.9-2.15-1.87-3.6-1.98-.07.2-.22.6-.3.8-1.35.18-2.63-.32-3.94-.49-2.74-.36-5.51-.24-8.25-.52,1.15,1.13,1.38,2.85.9,4.34-.07.01-.23.05-.3.06-.57-.64-1.03-1.36-1.65-1.94-3.19.45-6.01-1.44-8.58-3.04-1.23-.7-1.98-2.22-3.28-2.67-1.24.91-2.01,2.44-3.55,2.93-.66.36-1.35-.06-2-.22.09.15.27.44.36.59,2.06.26,4.15.02,6.22-.02,2.12-.31,3.9,1.24,5.33,2.61.55.82,1.63.63,2.46.89,2.08.5,3.98,2.54,3.68,4.77-1.1-.89-2.23-1.93-3.7-2.04-.69.58-1.5,1.07-2.43.78-4.58-1.09-9.29-1.25-13.96-1.6.71,1.25.98,2.8.3,4.13-.26.31-.36,1.24-.93.95-.25-.5-.38-1.04-.6-1.54-.74-.4-1.56-.7-2.11-1.37-1.52-1.68-3.41-3.23-3.95-5.54-.7.88-1.54,2.01-2.83,1.83-.57.04-.89-.53-1.3-.81-.45.39-.9.79-1.43,1.08.04-1.17.61-2.31,1.66-2.87,1.68-1.1,3.73-2.7,3.39-4.96-.15-1.86-.3-3.79-1.09-5.5-1.07-1.38-3.08-1.51-4.23-2.8-.33-.35-.4-.76-.2-1.21,1.24-.11,2.93.78,3.78-.49.18-1.52-.18-3.04-.43-4.54-.34-1.57-.52-3.18-1.12-4.67-1.65.12-3.43.63-5-.16-1.05-.42-1.75-1.33-2.47-2.15-4.07,4.27-7.8,8.93-12.42,12.64-.98.74-1.99,1.64-3.28,1.67-.7-1.17-.71-2.56-.63-3.88-1.17,1.43-2.28,2.94-3.7,4.14-.55.42-1.18.91-1.91.84-1.28-1.38-1.04-3.44-.86-5.16-1.27,1.32-2.4,3.4-4.43,3.44-1.04-1.39-.89-3.28-.84-4.92-.89.95-1.79,2.05-3.15,2.32-.87-1.83-.56-3.93-.32-5.86-.75.42-1.5,1.18-2.44,1-.97-1.72-.41-3.84-.34-5.72-.71.24-2.18.98-2.36-.21-.31-2.01.22-4.04.89-5.93-.59.3-1.71.6-1.76-.4.19-2.16.92-4.23,1.74-6.23-.42-.23-.83-.46-1.23-.69-.59.08-1.17.13-1.76.13-.31-1-1.5-1.29-1.78-2.29-.34-.78-.19-1.63,0-2.42-.39.09-.77.39-1.17.21-.34-.42-.55-.93-.52-1.47-.04-1.71.38-3.38.8-5.02-1.75.05-3.46-.32-5.2-.43-.65-.02-1.02-.61-1.46-.99-.98.43-2.07.87-3.14.43-1.47-.62-3.09.13-4.58-.38-.95-.33-1.26-1.46-2.05-1.95-1.03.07-2.19.33-3.06-.38-1.29-1.01-3.19-1.48-3.81-3.15-.78-2.09.53-4.3,2.21-5.51-.56-.82-1.15-1.77-.86-2.8.4-1.08,1.34-1.81,2.18-2.54,2.68-2.24,5.37-4.48,7.85-6.95-4.36,1.22-8.7,2.53-13.12,3.56-1.76.41-3.78.74-5.37-.33-1.78-1.23-2.99-3.29-3.3-5.42-.22-1.3.96-1.99,1.77-2.74-1.81-.37-3.75-.8-5.11-2.17-1.32-1.16-1.88-2.86-2.72-4.34-.71-1.25-1.21-2.72-.95-4.17.35-.79.98-1.41,1.5-2.09-2.3-1.18-4.02-3.45-4.45-6.01-.08-2.5-1.75-4.92-.74-7.43.21-.82.97-1.15,1.71-1.36-1.47-3.15-3.82-6.29-3.3-9.95.39-1.9.48-3.97,1.57-5.63.43-.7,1.29-.81,2.02-1-1.38-1.83-2.23-4.12-1.8-6.43.12-1.97,1.84-3.37,1.91-5.34.24-2.33,1.66-4.85,4.2-5.12-.98-1.65-1.43-3.75-.47-5.52.55-1.6,2.03-2.66,2.49-4.29.97-2.81,3.74-4.59,6.55-5.2-.47-2.1,1.37-3.39,2.36-4.95,1.03-1.71,3.01-2.39,4.75-3.12.16-.58.27-1.21.7-1.67.89-1.01,1.62-2.28,2.92-2.82,1.48-.67,3.15-.46,4.72-.47.34-.55.53-1.35,1.23-1.56ZM109.53,147.65c-.94.27-1.92.41-2.89.29.74,5.83,1.46,11.7,2.98,17.39.37,1.58,1.25,3.1,2.74,3.86.51-.95.95-2.01,1.85-2.65,1.47-1.19,3.31-2.23,3.92-4.14.49-1.77-.29-3.57-.99-5.17-.3-.48-.49-1.32-1.21-1.23-1.63-.14-3.89.46-4.87-1.25,1.1-1.23,3.66-.4,4.01-2.45.04-1.98-.91-3.82-1.75-5.57-1.17.43-2.53,1.57-3.79.93ZM139.37,165.91c-.4.72,1.19,1.04,1.26.3-.18-.45-.89-.58-1.26-.3Z" />
      </g>

      <g className={styles.lines}>
        <path d="M141.64,37.2c-.63-.78-1.22-1.59-1.73-2.46,4.29,1.38,10.71.85,14.09.43.02.64.55,1.28.89,1.81.02.03.05.07.07.1-1.74.23-4.66.56-7.77.56-1.85,0-3.77-.12-5.55-.44ZM154.18,56.31c3.01,15.21-.9,35.16-10.02,49.92-6.04,9.74-13.5,15.89-21.66,17.84,3.7,4.98,6.37,11.51,7.61,18.72-.02-.01-.03-.02-.05-.03-.56.42-1.16.78-1.79,1.09-1.64-10.34-6.26-19.23-12.67-24-.59-.44-1.2-.84-1.81-1.2l-.03-.02c-4-2.33-8.4-2.97-12.86-1.84-6.29,1.58-9.77,3.81-11.3,7.23-1.95,4.32-.84,10.96,3.38,20.23-.5.52-1,1.06-1.48,1.59-4.82-10.33-6-17.59-3.73-22.64,2.32-5.16,7.97-7.17,12.64-8.35,3.03-.77,6.03-.81,8.92-.13l-6.13-5.39c-3.97,1.52-8.29,2.83-12.82,3.83-6.18,1.38-12.72,2.19-19.21,2.19-5.47,0-10.9-.58-16.05-1.88-1.12,2.49-2.33,4.86-3.64,7.04,0-.02,0-.04.01-.06-.74.02-1.48-.03-2.21-.12,1.43-2.26,2.72-4.73,3.92-7.38-2.07-.6-4.08-1.32-6.02-2.18-3.63-1.59-5.47-3.4-5.66-5.54-.34-4.05,5.44-7.89,12.77-12.76,2.18-1.45,4.52-3,6.82-4.66,1.14-5.19,2.07-10.39,2.83-15.35,2.72-17.84,10.03-34.78,16.2-46.11.38.71.75,1.42,1.1,2.15.04-.04.09-.08.13-.12-5.78,10.87-12.84,27.19-15.45,44.38-.65,4.28-1.44,8.75-2.38,13.24,3.96-3.04,7.57-6.39,9.78-10.05.26-.52.54-1.05.85-1.57.09-.18.17-.36.25-.54,2.56-5.88,5.93-10.92,9.85-14.86,3.92-3.94,8.39-6.76,13.13-8.22,7.09-2.16,14.48-1.13,20.83,2.9,2.11,1.34,3.96,2.84,5.56,4.49,8.05-6.2,15.75-12.9,18.5-16.56,1.52,1.46,3.18,2.77,5.01,3.87-.27-.53-.56-1.05-.87-1.56,2.14,2.9,4.47,5.89,7.07,8.75,3.66,4.04,7.87,7.86,12.83,10.88.43,1.19,1.06,2.28,1.78,3.32-5.41-2.79-9.97-6.5-13.93-10.54ZM82.14,112.38c-2.73-1.04-5.21-2.94-7.25-5.64-4.16-5.48-6.55-14.66-4.04-24.28-.99,1.02-2.06,2-3.18,2.95-1.53,1.3-3.15,2.55-4.81,3.76-.81.58-1.63,1.16-2.45,1.72-1.65,1.15-3.32,2.26-4.95,3.34-6.21,4.12-12.08,8.02-11.84,10.82.11,1.28,1.59,2.55,4.41,3.79,1.93.85,3.95,1.57,6.03,2.15.63.18,1.27.35,1.92.5,8.23,1.97,17.35,2.07,26.16.89ZM118.93,98.03c5.3-4.82,10.6-14.53,9.75-24.48-.41-4.74-2.19-9.01-5.24-12.62-.42-.51-.87-1.01-1.35-1.49-1.44-1.46-3.11-2.8-5-4-3.86-2.46-8.02-3.7-12.28-3.7-2.25,0-4.52.35-6.79,1.04-8.9,2.72-16.79,10.71-21.67,21.9-.46,1.07-1.03,2.1-1.69,3.11-4.76,10.38-2.9,21.52,1.82,27.74,3.31,4.36,7.88,6.35,12.74,5.63,12.55-2.66,23.72-7.69,29.71-13.13ZM151.43,53.36c-2.96-3.34-5.56-6.8-7.92-10.09-3.25,4.04-10.77,10.5-18.38,16.37,3.29,3.92,5.21,8.56,5.65,13.73.92,10.73-4.57,20.9-10.43,26.22-3.52,3.2-8.78,6.31-15.06,8.91l9.77,8.59c.59.35,1.16.74,1.73,1.16,1.54,1.15,2.99,2.51,4.33,4.07,10.09-1.98,17.17-10.4,21.33-17.14,9.57-15.47,13.26-36.77,8.98-51.82Z" />
      </g>

      {/* Breast region */}
      <Region
        part="BREAST"
        label="BREAST"
        selected={isSel("BREAST")}
        disabled={isDis("BREAST")}
        onSelect={onSelectPart}
      >
        <path d="M178.47,127.99c-.27-1.09-.39-2.21-.51-3.32-.22.91-.36,1.84-.6,2.76-.52-1.47-.09-3.07-.23-4.59-.59.8-.87,1.78-1.32,2.66.54-3.25,1.18-6.51,1.26-9.82-.72,1.53-.73,3.26-1.29,4.85.45-3.39.76-6.83.38-10.24-.59,1.78-1.25,3.86-3.09,4.73-.38,1.39-.81,2.84-1.84,3.9-.92.87-2.19,1.23-3.2,1.98-.56.98-.98,2.08-1.85,2.86-.86.88-2.08,1.21-3.11,1.84-1.81,1.72-3.12,4-5.33,5.28-1.88,1.05-3.63,2.46-5.81,2.85-.6.05-.95.58-1.35.95-1.5,1.58-3.31,3.07-5.53,3.4-.03-.22-.1-.66-.13-.89-.87.46-1.36,1.44-2.17,2.02-.86.79-2.14.81-2.99,1.61-.97.85-2.46,1.15-3.61.5-1.64,1.35-3.97,2.63-6.04,1.47-1.24-7.21-3.91-13.74-7.61-18.72,8.16-1.95,15.62-8.1,21.66-17.84,9.12-14.76,13.03-34.71,10.02-49.92,3.96,4.04,8.52,7.75,13.93,10.54.62.92,1.31,1.81,1.97,2.69,1.38,1.68,2.66,3.44,4.04,5.12,2.45,2.78,4,6.23,5.14,9.73.73,2.18.09,4.5.69,6.7.53,2.28.12,4.65-.59,6.84,2.93,3.8,4.93,8.45,5.23,13.26-.53-.44-.46-1.19-.68-1.77.34,3.85.02,7.69-.63,11.49-.03-.89-.08-1.78-.17-2.66-1.08,2.27-1.69,4.79-2.87,6.99-.11-.91-.15-1.82-.2-2.72-.45,1.44-.84,2.89-1.26,4.34-.07.39-.13.79-.19,1.18l-.48-.08c.01.26.05.79.06,1.06-.12-.44-.23-.9-.32-1.34l.62.31Z" />
      </Region>

      {/* Thigh region */}
      <Region
        part="THIGH"
        label="THIGH"
        selected={isSel("THIGH")}
        disabled={isDis("THIGH")}
        onSelect={onSelectPart}
      >
        <path d="M139.37,165.91c-.4.72,1.19,1.04,1.26.3-.19-.45-.89-.58-1.26-.3ZM114.21,166.54c1.48-1.2,3.32-2.23,3.92-4.15.49-1.77-.29-3.56-.98-5.17-.31-.48-.49-1.31-1.21-1.22-1.63-.14-3.89.46-4.87-1.26,1.09-1.23,3.66-.4,4-2.45.04-1.97-.91-3.82-1.75-5.57-1.17.44-2.53,1.57-3.79.93-.94.27-1.92.41-2.89.29.74,5.84,1.47,11.7,2.98,17.39.38,1.58,1.25,3.1,2.74,3.86.51-.95.95-2.01,1.85-2.65ZM110.32,178.4c-.74-.4-1.56-.7-2.11-1.37-1.52-1.68-3.41-3.23-3.95-5.54-.7.88-1.55,2.01-2.83,1.83-.57.04-.89-.52-1.31-.81-.45.39-.9.79-1.42,1.08.04-1.16.6-2.31,1.65-2.87,1.69-1.09,3.73-2.7,3.39-4.96-.14-1.85-.3-3.79-1.09-5.5-1.07-1.38-3.07-1.51-4.23-2.8-.33-.35-.4-.76-.19-1.2,1.24-.11,2.92.78,3.77-.5.18-1.52-.18-3.04-.43-4.54-.34-1.56-.52-3.18-1.12-4.67-1.65.13-3.43.63-5-.15-1.05-.42-1.75-1.34-2.47-2.15-4.22-9.27-5.33-15.91-3.38-20.23,1.53-3.42,5.01-5.65,11.3-7.23,4.46-1.13,8.86-.49,12.86,1.84l.03.02c.61.36,1.22.76,1.81,1.2,6.41,4.77,11.03,13.66,12.67,24-1.52.76-3.2,1.19-4.9,1.21-.75.03-1.42-.28-2.05-.63-.82.54-1.68,1.03-2.6,1.37,1.81,5.49,3.85,10.96,6.84,15.93,1.14,2.1,3.75,2.4,5.88,2.65,2.75.39,5.53-1.14,8.2-.03.98.32,1.4,1.32,2.07,2.01,1.84.31,3.83.69,5.23,2.03.87.83,1.14,2.05,1.21,3.21-1.05-.9-2.16-1.87-3.6-1.98-.08.2-.23.6-.3.8-1.35.19-2.63-.32-3.94-.49-2.74-.35-5.51-.24-8.26-.52,1.15,1.13,1.38,2.85.9,4.34-.07.01-.22.05-.3.06-.56-.63-1.02-1.36-1.64-1.94-3.2.45-6.01-1.44-8.59-3.04-1.23-.7-1.98-2.22-3.28-2.67-1.24.91-2.01,2.44-3.55,2.93-.66.36-1.35-.06-1.99-.21.08.14.26.44.35.59,2.07.25,4.15.02,6.22-.02,2.13-.31,3.9,1.24,5.33,2.61.55.81,1.63.62,2.46.89,2.08.5,3.98,2.54,3.68,4.77-1.09-.88-2.23-1.93-3.7-2.04-.69.58-1.5,1.07-2.43.78-4.58-1.08-9.29-1.25-13.96-1.6.71,1.25.98,2.81.3,4.14-.26.31-.36,1.24-.93.94-.24-.49-.38-1.04-.6-1.54Z" />
      </Region>

      {/* Whole bird region 
      <Region
        part="WHOLE_BIRD"
        label="WHOLE_BIRD"
        selected={isSel("WHOLE_BIRD")}
        disabled={isDis("WHOLE_BIRD")}
        onSelect={onSelectPart}
      >
        <path d="M178.47,127.99c-.27-1.09-.39-2.21-.51-3.32-.22.91-.36,1.84-.6,2.76-.52-1.47-.09-3.07-.23-4.59-.59.8-.87,1.78-1.32,2.66.54-3.25,1.18-6.51,1.26-9.82-.72,1.53-.73,3.26-1.29,4.85.45-3.39.76-6.83.38-10.24-.59,1.78-1.25,3.86-3.09,4.73-.38,1.39-.81,2.84-1.84,3.9-.92.87-2.19,1.23-3.2,1.98-.56.98-.98,2.08-1.85,2.86-.86.88-2.08,1.21-3.11,1.84-1.81,1.72-3.12,4-5.33,5.28-1.88,1.05-3.63,2.46-5.81,2.85-.6.05-.95.58-1.35.95-1.5,1.58-3.31,3.07-5.53,3.4-.03-.22-.1-.66-.13-.89-.87.46-1.36,1.44-2.17,2.02-.86.79-2.14.81-2.99,1.61-.97.85-2.46,1.15-3.61.5-1.64,1.35-3.97,2.63-6.04,1.47-1.24-7.21-3.91-13.74-7.61-18.72,8.16-1.95,15.62-8.1,21.66-17.84,9.12-14.76,13.03-34.71,10.02-49.92,3.96,4.04,8.52,7.75,13.93,10.54.62.92,1.31,1.81,1.97,2.69,1.38,1.68,2.66,3.44,4.04,5.12,2.45,2.78,4,6.23,5.14,9.73.73,2.18.09,4.5.69,6.7.53,2.28.12,4.65-.59,6.84,2.93,3.8,4.93,8.45,5.23,13.26-.53-.44-.46-1.19-.68-1.77.34,3.85.02,7.69-.63,11.49-.03-.89-.08-1.78-.17-2.66-1.08,2.27-1.69,4.79-2.87,6.99-.11-.91-.15-1.82-.2-2.72-.45,1.44-.84,2.89-1.26,4.34-.07.39-.13.79-.19,1.18l-.48-.08c.01.26.05.79.06,1.06-.12-.44-.23-.9-.32-1.34l.62.31Z" />
        <path d="M139.37,165.91c-.4.72,1.19,1.04,1.26.3-.19-.45-.89-.58-1.26-.3ZM114.21,166.54c1.48-1.2,3.32-2.23,3.92-4.15.49-1.77-.29-3.56-.98-5.17-.31-.48-.49-1.31-1.21-1.22-1.63-.14-3.89.46-4.87-1.26,1.09-1.23,3.66-.4,4-2.45.04-1.97-.91-3.82-1.75-5.57-1.17.44-2.53,1.57-3.79.93-.94.27-1.92.41-2.89.29.74,5.84,1.47,11.7,2.98,17.39.38,1.58,1.25,3.1,2.74,3.86.51-.95.95-2.01,1.85-2.65ZM110.32,178.4c-.74-.4-1.56-.7-2.11-1.37-1.52-1.68-3.41-3.23-3.95-5.54-.7.88-1.55,2.01-2.83,1.83-.57.04-.89-.52-1.31-.81-.45.39-.9.79-1.42,1.08.04-1.16.6-2.31,1.65-2.87,1.69-1.09,3.73-2.7,3.39-4.96-.14-1.85-.3-3.79-1.09-5.5-1.07-1.38-3.07-1.51-4.23-2.8-.33-.35-.4-.76-.19-1.2,1.24-.11,2.92.78,3.77-.5.18-1.52-.18-3.04-.43-4.54-.34-1.56-.52-3.18-1.12-4.67-1.65.13-3.43.63-5-.15-1.05-.42-1.75-1.34-2.47-2.15-4.22-9.27-5.33-15.91-3.38-20.23,1.53-3.42,5.01-5.65,11.3-7.23,4.46-1.13,8.86-.49,12.86,1.84l.03.02c.61.36,1.22.76,1.81,1.2,6.41,4.77,11.03,13.66,12.67,24-1.52.76-3.2,1.19-4.9,1.21-.75.03-1.42-.28-2.05-.63-.82.54-1.68,1.03-2.6,1.37,1.81,5.49,3.85,10.96,6.84,15.93,1.14,2.1,3.75,2.4,5.88,2.65,2.75.39,5.53-1.14,8.2-.03.98.32,1.4,1.32,2.07,2.01,1.84.31,3.83.69,5.23,2.03.87.83,1.14,2.05,1.21,3.21-1.05-.9-2.16-1.87-3.6-1.98-.08.2-.23.6-.3.8-1.35.19-2.63-.32-3.94-.49-2.74-.35-5.51-.24-8.26-.52,1.15,1.13,1.38,2.85.9,4.34-.07.01-.22.05-.3.06-.56-.63-1.02-1.36-1.64-1.94-3.2.45-6.01-1.44-8.59-3.04-1.23-.7-1.98-2.22-3.28-2.67-1.24.91-2.01,2.44-3.55,2.93-.66.36-1.35-.06-1.99-.21.08.14.26.44.35.59,2.07.25,4.15.02,6.22-.02,2.13-.31,3.9,1.24,5.33,2.61.55.81,1.63.62,2.46.89,2.08.5,3.98,2.54,3.68,4.77-1.09-.88-2.23-1.93-3.7-2.04-.69.58-1.5,1.07-2.43.78-4.58-1.08-9.29-1.25-13.96-1.6.71,1.25.98,2.81.3,4.14-.26.31-.36,1.24-.93.94-.24-.49-.38-1.04-.6-1.54Z" />
        <path d="M167.35,60.44c.07.99-.56,1.83-1.21,2.5.06.2.12.4.19.59-4.96-3.02-9.17-6.84-12.83-10.88-2.6-2.86-4.93-5.85-7.07-8.75,0-.02-.01-.03-.03-.05-.32-.55-.65-1.09-.96-1.65-1.06-1.82-2.5-3.37-3.8-5,1.78.32,3.7.44,5.55.44,3.11,0,6.03-.33,7.77-.56,2.55,3.47,5.04,7.04,6.82,10.97.02,1.28.82,2.26,1.34,3.37.54.61,1.39.97,1.69,1.77.16.75.07,1.52.08,2.28,1.29,1.35,2.48,3.01,2.46,4.97Z" />
        <path d="M151.43,53.36c4.28,15.05.59,36.35-8.98,51.82-4.16,6.74-11.24,15.16-21.33,17.14-1.34-1.56-2.79-2.92-4.33-4.07-.57-.42-1.14-.81-1.73-1.16l-9.77-8.59c6.28-2.6,11.54-5.71,15.06-8.91,5.86-5.32,11.35-15.49,10.43-26.22-.44-5.17-2.36-9.81-5.65-13.73,7.61-5.87,15.13-12.33,18.38-16.37,2.36,3.29,4.96,6.75,7.92,10.09Z" />
        <path d="M142.29,41.59c-2.75,3.66-10.45,10.36-18.5,16.56-1.6-1.65-3.45-3.15-5.56-4.49-6.35-4.03-13.74-5.06-20.83-2.9-4.74,1.46-9.21,4.28-13.13,8.22s-7.29,8.98-9.85,14.86c-.08.18-.16.36-.25.54-.31.52-.59,1.05-.85,1.57-2.21,3.66-5.82,7.01-9.78,10.05.94-4.49,1.73-8.96,2.38-13.24,2.61-17.19,9.67-33.51,15.45-44.38.63-.55,1.33-1,2.2-.58.77-1.2,1.99-2.06,3.34-2.46.55-.17.93.36,1.37.57.88-1.08,2.39-1.9,3.71-1.03,1.05-1.02,2.74-2.38,4.16-1.23.02.21.07.61.09.82.83-.55,1.68-1.14,2.69-1.25.73-.08,1.39.36,2.04.65,1.5-1.19,4.24-1.78,5.36.22.82-.65,1.71-1.48,2.84-1.4.61.05.74.74,1.04,1.16.72-.44,1.52-1.02,2.41-.77.66.19.86.93,1.19,1.46.66-.29,1.29-.8,2.05-.76.78.17,1.19.93,1.65,1.51.68-.49,1.34-1.26,2.25-1.22.76.28,1.19,1.03,1.72,1.59,1.2-.98,2.82-.9,4,.06,1.69-.78,3.55.11,4.47,1.61,2.14.42,3.32,2.41,4.41,4.1.97,1.53,1.98,3.05,3.06,4.51,1.48,2.02,3.08,3.93,4.87,5.65Z" />
        <path d="M128.68,73.55c.85,9.95-4.45,19.66-9.75,24.48-5.99,5.44-17.16,10.47-29.71,13.13-4.86.72-9.43-1.27-12.74-5.63-4.72-6.22-6.58-17.36-1.82-27.74.66-1.01,1.23-2.04,1.69-3.11,4.88-11.19,12.77-19.18,21.67-21.9,2.27-.69,4.54-1.04,6.79-1.04,4.26,0,8.42,1.24,12.28,3.7,1.89,1.2,3.56,2.54,5,4,.48.48.93.98,1.35,1.49,3.05,3.61,4.83,7.88,5.24,12.62Z" />
        <path d="M109.33,114.72c-2.89-.68-5.89-.64-8.92.13-4.67,1.18-10.32,3.19-12.64,8.35-2.27,5.05-1.09,12.31,3.73,22.64-3.52,3.81-6.89,7.8-10.94,11.05-.97.74-1.98,1.64-3.28,1.67-.7-1.17-.71-2.56-.63-3.88-1.17,1.43-2.28,2.94-3.7,4.13-.55.43-1.17.91-1.91.85-1.28-1.39-1.04-3.44-.86-5.16-1.27,1.31-2.4,3.4-4.43,3.43-1.04-1.38-.89-3.28-.85-4.92-.89.96-1.79,2.05-3.15,2.32-.87-1.83-.55-3.92-.31-5.86-.76.42-1.51,1.18-2.45,1-.97-1.72-.4-3.84-.34-5.71-.71.23-2.18.97-2.36-.21-.31-2.01.22-4.04.89-5.93-.59.3-1.72.6-1.76-.4.19-2.16.92-4.23,1.74-6.23-.42-.23-.83-.46-1.24-.69-.58.08-1.17.13-1.76.14-.3-1-1.5-1.29-1.78-2.29-.34-.78-.19-1.63,0-2.42-.39.09-.77.39-1.17.21-.33-.42-.55-.93-.52-1.47-.04-1.69.37-3.33.78-4.95h.01c1.31-2.19,2.52-4.56,3.64-7.05,5.15,1.3,10.58,1.88,16.05,1.88,6.49,0,13.03-.81,19.21-2.19,4.53-1,8.85-2.31,12.82-3.83l6.13,5.39Z" />
        <path d="M74.89,106.74c2.04,2.7,4.52,4.6,7.25,5.64-8.81,1.18-17.93,1.08-26.16-.89-.65-.15-1.29-.32-1.92-.5-2.08-.58-4.1-1.3-6.03-2.15-2.82-1.24-4.3-2.51-4.41-3.79-.24-2.8,5.63-6.7,11.84-10.82,1.63-1.08,3.3-2.19,4.95-3.34.82-.56,1.64-1.14,2.45-1.72,1.66-1.21,3.28-2.46,4.81-3.76,1.12-.95,2.19-1.93,3.18-2.95-2.51,9.62-.12,18.8,4.04,24.28Z" />
      </Region>*/}
    </svg>
  );
}

function DuckChart({
  selectedPart,
  onSelectPart,
  isAvailable,
}: ChartBaseProps) {
  const REGION_PARTS: PartKey[] = ["BREAST", "THIGH"]; // WHOLE_BIRD is taken out, extend later if needed
  const currentIndex = Math.max(
    0,
    REGION_PARTS.findIndex((p) => p === selectedPart)
  );

  // Arrow key cycling for accessibility
  const onKeyDown = (e: React.KeyboardEvent<SVGSVGElement>) => {
    if (!REGION_PARTS.length) return;
    if (e.key === "ArrowRight" || e.key === "ArrowDown") {
      e.preventDefault();
      const next = REGION_PARTS[(currentIndex + 1) % REGION_PARTS.length];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
    if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
      e.preventDefault();
      const next =
        REGION_PARTS[
          (currentIndex - 1 + REGION_PARTS.length) % REGION_PARTS.length
        ];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
  };

  const isSel = (p: PartKey) => selectedPart === p;
  const isDis = (p: PartKey) => (isAvailable ? !isAvailable(p) : false);

  return (
    <svg
      className={styles.svgBox}
      viewBox="0 0 280 180"
      shapeRendering={"geometricPrecision"}
      tabIndex={0}
      onKeyDown={onKeyDown}
      aria-labelledby="duck-title"
    >
      <title id="duck-title">Chicken cut chart</title>

      {/* Duck turkey base */}
      <g className={styles.base}>
        <path d="M2.3,111.39c10.13.85,20.97-.12,30.55-2.43-1.2-.39-2.66-.99-3.9-2.02,39.55-5.94,72.47-46.52,117.6-39.42,6.69.7,9.33-2.37,9.77-6.21.25-2.24-.24-4.74-1.12-6.92-2.86-7.29-4.84-12.68-4.72-20.62.12-8.07,2.35-15.46,7-21.84C162.47,5.13,169.69.31,178.85.01c7.92-.26,17.42,3.94,19.51,12.58,6.63,8.05,9.83,10.36,17.46,15.12,3.61,2.15,1.91,3.94-4.18,2.78-4.56.78-11.5-.88-17.52-3.7-7.27-1.08-7.19-.39-12.89,2.97-4.77,2.82-8.95,2.88-9.19,9.57-.16,4.47,2.34,9.71,5.21,14.3,5.53,8.86,11.98,14.48,15.49,25.04,8.74,26.27-13.1,48.89-45.07,59.77-5.73,4.23-14.58,7.18-24.85,8.75-1.98,1.51-4.26,2.59-6.67,3.24.1,2.54.38,5.06.98,7.54.12-.05.24-.1.36-.16,1.01-.37,1.49.07.99,1.31-.3,1.14,2.63,1.93,8.64,2.37,1.91-.07,8.51-.81,9.73.82.54.09,1.08.43,1.37.84-.38-.08-.98-.09-1.36-.04-.83,1.14-1.8.9-3.36.95-2,.06-6.5-.27-6.51,1.6h0c.57-.05.83.3.63,1.06,1.1.95,3.35,1.63,4,1.85.98.11,2,.39,2.81.76.54.05,1.11.1,1.71.14,1.91-.07,8.47-.9,9.73.82.54.09,1.07.43,1.37.84-.37-.08-1-.07-1.38,0-.89,1.15-1.78.88-3.33.92-1.93.06-6.2-.25-6.49,1.42-.28,1.6,3.71,2.78,4.61,3.08,1.8.2,3.91.83,4.31,1.86.65.22,1.23.63,1.54,1.18-.58-.19-1.09-.24-1.7-.14-.38.73-1.55.58-2.69.33-2.92-.59-5.79-1.29-8.78-1.86-4.07-.79-8.83-.78-14.01-2.42-3.3.08-6.28-.49-6.46-2.31-.29-1.29-.54-1.87-1.36-2.64-1.19.42-1.66,1.12-2.98.61-.39-.03-.86.15-1.28.51-.04-.65.18-1.24.74-1.92.2-1.31,1.15-.54,3.13-1.95v-.03c-.27-.08-.54-.16-.82-.25-3.31.08-6.27-.49-6.46-2.32-.29-1.28-.6-1.81-1.41-2.59-1.19.42-1.85,1.25-2.97.77-.4-.03-.84.22-1.24.58-.04-.65.11-1.31.67-2,.13-1.22,1.02-.49,3.14-2.1,0-1.31-.06-3.2.31-4.78-.14-1.81-.45-3.82-.86-5.89-.53-.24-1.05-.5-1.56-.78-17.6-.63-35.77-4.74-48.35-12.73-7.14-.24-13.78-2.5-18.55-6.24-6.52-1.14-11.69-4.16-15.69-7.68-6.2-2.32-11.41-5.92-15.05-10.37h0ZM109.3,151.12c-.26-.02-.52-.04-.78-.06.45,1.58,1.05,3.15,1.84,4.68-.32-1.54-.69-3.1-1.05-4.62Z" />
      </g>

      <g className={styles.lines}>
        <path d="M152.81,29.11c7.09,2.63,15.33,3.86,22.7,3.63-.89.55-1.65,1.19-2.22,2.06-7.44-.09-15.13-1.57-21.18-3.82-.5-.18-.98-.37-1.45-.57.06-.69.14-1.38.24-2.06.62.26,1.25.52,1.91.76ZM60.34,123.55c-3.74-1.61-4.12-2.71-4.11-3.11.02-.58.61-1.23,1.61-1.9,2.7-1.83,8.38-3.92,13.55-5.82,5.13-1.88,10.61-3.9,15.44-6.23s9.03-4.99,11.6-8.17c8.07-9.97,17.86-15.74,28.32-16.7,1.01-.09,2.02-.14,3.03-.14,7.94,0,15.74,2.84,21.77,8,.24.21.48.42.71.63,4.76,4.36,6.67,9.25,5.66,14.55-1.57,8.3-10.05,16.02-19.31,20.8-.61.33-1.24.63-1.86.92-1.69.8-3.39,1.5-5.07,2.08-9.91,3.41-21.19,4.42-32.29,3.83-.75-.04-1.49-.09-2.24-.14-13.7-1-26.96-4.37-36.81-8.6ZM54.23,120.39c-.05,1.82,1.64,3.41,5.32,4.99,9.83,4.23,22.99,7.61,36.65,8.68-1.79,4.06-2.59,8.79-1.95,14.03.68.06,1.36.11,2.04.15-.72-5.29.14-10.02,2.06-14.02,2.31.15,4.64.22,6.96.22,9.36,0,18.66-1.21,27.02-4.09,2-.69,4.05-1.54,6.09-2.55,3.06,2.79,5.9,6.5,8.34,11.29.32-.2.62-.42.92-.64.28-.09.55-.19.83-.29-2.39-4.63-5.21-8.36-8.29-11.27,9.28-4.94,17.95-12.79,19.67-21.86,1.11-5.86-.98-11.43-6.06-16.19,8.64-5.88,12.73-13.44,13.89-15.89,2.48.64,4.91,1,7.24,1.04h.51c4.99,0,9.43-1.35,13.24-4.02-.35-.58-.71-1.15-1.07-1.71-3.62,2.56-7.87,3.79-12.64,3.73-2.71-.05-5.59-.56-8.51-1.46-3.88-1.2-7.83-3.1-11.55-5.56-.41.53-.91,1-1.51,1.38,3.95,2.67,8.16,4.73,12.32,6.04-1.28,2.58-5.36,9.72-13.48,15.1-7.14-5.86-16.46-8.71-25.7-7.86-5.51.51-10.83,2.27-15.82,5.2s-9.67,7.04-13.87,12.24c-4.8,5.92-16.66,10.27-26.18,13.77-5.78,2.12-10.18,3.79-12.96,5.42-7.32-1.12-14.88-3.77-21.56-6.12-1.14-.4-2.26-.8-3.36-1.17-1.25.3-2.53.58-3.82.83,2.06.67,4.25,1.44,6.52,2.23,6.17,2.16,13.09,4.59,19.96,5.88-.8.78-1.22,1.59-1.25,2.48Z" />
      </g>

      {/* Breast region */}
      <Region
        part="BREAST"
        label="BREAST"
        selected={isSel("BREAST")}
        disabled={isDis("BREAST")}
        onSelect={onSelectPart}
      >
        <path d="M192.75,78.68c8.66,26.04-12.72,48.5-44.24,59.48-2.39-4.63-5.21-8.36-8.29-11.27,9.28-4.94,17.95-12.79,19.67-21.86,1.11-5.86-.98-11.43-6.06-16.19,8.64-5.88,12.73-13.44,13.89-15.89,2.48.64,4.91,1,7.24,1.04h.51c4.99,0,9.43-1.35,13.24-4.02,1.56,2.59,2.95,5.41,4.04,8.71Z" />
      </Region>

      {/* Thigh region */}
      <Region
        part="THIGH"
        label="THIGH"
        selected={isSel("THIGH")}
        disabled={isDis("THIGH")}
        onSelect={onSelectPart}
      >
        <path d="M117.49,157.82c1.01-.37,1.49.06,1,1.3-.31,1.14,2.63,1.93,8.64,2.37,1.91-.06,8.51-.81,9.73.82.54.1,1.08.43,1.37.84-.38-.08-.98-.09-1.36-.03-.83,1.13-1.8.9-3.35.95-2,.06-6.5-.27-6.51,1.6h0c.57-.05.83.3.63,1.06,1.1.95,3.35,1.63,4,1.85.98.11,1.99.38,2.81.76.54.05,1.11.09,1.71.14,1.91-.07,8.47-.91,9.73.82.54.09,1.07.43,1.36.84-.37-.08-1-.07-1.37,0-.89,1.15-1.78.88-3.34.92-1.93.06-6.2-.25-6.49,1.43-.28,1.59,3.71,2.78,4.61,3.08,1.8.2,3.92.83,4.31,1.86.65.22,1.23.63,1.55,1.18-.59-.19-1.1-.24-1.7-.14-.38.73-1.55.59-2.69.34-2.92-.59-5.79-1.29-8.78-1.87-4.08-.78-8.84-.78-14.02-2.41-3.3.08-6.27-.49-6.46-2.32-.29-1.28-.54-1.87-1.35-2.64-1.19.42-1.67,1.12-2.99.61-.39-.03-.86.15-1.28.51-.04-.65.18-1.24.74-1.92.2-1.32,1.15-.54,3.13-1.95v-.03c-.27-.08-.54-.16-.81-.25-3.31.08-6.27-.49-6.46-2.31-.3-1.29-.6-1.82-1.41-2.59-1.19.42-1.85,1.25-2.97.76-.39-.03-.84.22-1.23.58-.04-.65.11-1.31.67-2,.13-1.21,1.02-.49,3.14-2.1-.01-1.31-.06-3.19.31-4.78-.14-1.81-.46-3.82-.86-5.89-.53-.24-1.05-.5-1.56-.78-1.21-.04-2.43-.1-3.65-.18-.72-5.29.14-10.02,2.06-14.02,2.31.15,4.64.22,6.96.22,9.36,0,18.66-1.21,27.02-4.09,2-.69,4.05-1.54,6.09-2.55,3.06,2.79,5.9,6.5,8.34,11.29-5.74,3.89-14.2,6.62-23.93,8.11-1.98,1.51-4.26,2.59-6.67,3.23.1,2.55.37,5.07.98,7.54.12-.05.24-.1.35-.15ZM110.35,155.73c-.32-1.54-.69-3.1-1.05-4.62-.26-.01-.52-.03-.79-.06.45,1.58,1.05,3.15,1.84,4.68Z" />
      </Region>

      {/* Whole bird region 
      <Region
        part="WHOLE_BIRD"
        label="WHOLE_BIRD"
        selected={isSel("WHOLE_BIRD")}
        disabled={isDis("WHOLE_BIRD")}
        onSelect={onSelectPart}
      >
        <path d="M192.75,78.68c8.66,26.04-12.72,48.5-44.24,59.48-2.39-4.63-5.21-8.36-8.29-11.27,9.28-4.94,17.95-12.79,19.67-21.86,1.11-5.86-.98-11.43-6.06-16.19,8.64-5.88,12.73-13.44,13.89-15.89,2.48.64,4.91,1,7.24,1.04h.51c4.99,0,9.43-1.35,13.24-4.02,1.56,2.59,2.95,5.41,4.04,8.71Z" />
        <path d="M117.49,157.82c1.01-.37,1.49.06,1,1.3-.31,1.14,2.63,1.93,8.64,2.37,1.91-.06,8.51-.81,9.73.82.54.1,1.08.43,1.37.84-.38-.08-.98-.09-1.36-.03-.83,1.13-1.8.9-3.35.95-2,.06-6.5-.27-6.51,1.6h0c.57-.05.83.3.63,1.06,1.1.95,3.35,1.63,4,1.85.98.11,1.99.38,2.81.76.54.05,1.11.09,1.71.14,1.91-.07,8.47-.91,9.73.82.54.09,1.07.43,1.36.84-.37-.08-1-.07-1.37,0-.89,1.15-1.78.88-3.34.92-1.93.06-6.2-.25-6.49,1.43-.28,1.59,3.71,2.78,4.61,3.08,1.8.2,3.92.83,4.31,1.86.65.22,1.23.63,1.55,1.18-.59-.19-1.1-.24-1.7-.14-.38.73-1.55.59-2.69.34-2.92-.59-5.79-1.29-8.78-1.87-4.08-.78-8.84-.78-14.02-2.41-3.3.08-6.27-.49-6.46-2.32-.29-1.28-.54-1.87-1.35-2.64-1.19.42-1.67,1.12-2.99.61-.39-.03-.86.15-1.28.51-.04-.65.18-1.24.74-1.92.2-1.32,1.15-.54,3.13-1.95v-.03c-.27-.08-.54-.16-.81-.25-3.31.08-6.27-.49-6.46-2.31-.3-1.29-.6-1.82-1.41-2.59-1.19.42-1.85,1.25-2.97.76-.39-.03-.84.22-1.23.58-.04-.65.11-1.31.67-2,.13-1.21,1.02-.49,3.14-2.1-.01-1.31-.06-3.19.31-4.78-.14-1.81-.46-3.82-.86-5.89-.53-.24-1.05-.5-1.56-.78-1.21-.04-2.43-.1-3.65-.18-.72-5.29.14-10.02,2.06-14.02,2.31.15,4.64.22,6.96.22,9.36,0,18.66-1.21,27.02-4.09,2-.69,4.05-1.54,6.09-2.55,3.06,2.79,5.9,6.5,8.34,11.29-5.74,3.89-14.2,6.62-23.93,8.11-1.98,1.51-4.26,2.59-6.67,3.23.1,2.55.37,5.07.98,7.54.12-.05.24-.1.35-.15ZM110.35,155.73c-.32-1.54-.69-3.1-1.05-4.62-.26-.01-.52-.03-.79-.06.45,1.58,1.05,3.15,1.84,4.68Z" />
        <path d="M177.26,53.64c3.41,5.46,7.17,9.7,10.38,14.62-3.62,2.56-7.87,3.79-12.64,3.73-2.71-.05-5.59-.56-8.51-1.46-3.88-1.2-7.83-3.1-11.55-5.56.79-1.03,1.22-2.3,1.38-3.66.25-2.24-.24-4.74-1.12-6.93-2.87-7.29-4.84-12.68-4.72-20.62.02-1.13.08-2.25.18-3.35.47.2.95.39,1.45.57,6.05,2.25,13.74,3.73,21.18,3.82-.72,1.07-1.17,2.5-1.24,4.54-.16,4.47,2.34,9.71,5.21,14.3Z" />
        <path d="M165.75,72.39c-1.28,2.58-5.36,9.72-13.48,15.1-7.14-5.86-16.46-8.71-25.7-7.86-5.51.51-10.83,2.27-15.82,5.2s-9.67,7.04-13.87,12.24c-4.8,5.92-16.66,10.27-26.18,13.77-5.78,2.12-10.18,3.79-12.96,5.42-7.32-1.12-14.88-3.77-21.56-6.12-1.14-.4-2.26-.8-3.36-1.17.01,0,.02,0,.03,0-.15-.05-.31-.1-.46-.15-1.11-.39-2.37-.97-3.45-1.86,39.55-5.95,72.48-46.52,117.6-39.43,3.11.33,5.34-.16,6.89-1.17,3.95,2.67,8.16,4.73,12.32,6.04Z" />
        <path d="M152.26,90.11c4.76,4.36,6.67,9.25,5.66,14.55-1.57,8.3-10.05,16.02-19.31,20.8-.61.33-1.24.63-1.86.92-1.69.8-3.39,1.5-5.07,2.08-9.91,3.41-21.19,4.42-32.29,3.83-.75-.04-1.49-.09-2.24-.14-13.7-1-26.96-4.37-36.81-8.6-3.74-1.61-4.12-2.71-4.11-3.11.02-.58.61-1.23,1.61-1.9,2.7-1.83,8.38-3.92,13.55-5.82,5.13-1.88,10.61-3.9,15.44-6.23s9.03-4.99,11.6-8.17c8.07-9.97,17.86-15.74,28.32-16.7,1.01-.09,2.02-.14,3.03-.14,7.94,0,15.74,2.84,21.77,8,.24.21.48.42.71.63Z" />
        <path d="M59.55,125.38c9.83,4.23,22.99,7.61,36.65,8.68-1.79,4.06-2.59,8.79-1.95,14.03-15.75-1.23-31.43-5.27-42.66-12.4-7.14-.24-13.78-2.5-18.55-6.24-6.52-1.14-11.68-4.17-15.69-7.68-6.2-2.32-11.41-5.92-15.05-10.38,8.8.74,18.13.1,26.7-1.59,2.06.67,4.25,1.44,6.52,2.23,6.17,2.16,13.09,4.59,19.96,5.88-.8.78-1.22,1.59-1.25,2.48-.05,1.82,1.64,3.41,5.32,4.99Z" />
      </Region>*/}
    </svg>
  );
}

function GooseChart({
  selectedPart,
  onSelectPart,
  isAvailable,
}: ChartBaseProps) {
  const REGION_PARTS: PartKey[] = ["BREAST", "THIGH"]; // WHOLE_BIRD is taken out, extend later if needed
  const currentIndex = Math.max(
    0,
    REGION_PARTS.findIndex((p) => p === selectedPart)
  );

  // Arrow key cycling for accessibility
  const onKeyDown = (e: React.KeyboardEvent<SVGSVGElement>) => {
    if (!REGION_PARTS.length) return;
    if (e.key === "ArrowRight" || e.key === "ArrowDown") {
      e.preventDefault();
      const next = REGION_PARTS[(currentIndex + 1) % REGION_PARTS.length];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
    if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
      e.preventDefault();
      const next =
        REGION_PARTS[
          (currentIndex - 1 + REGION_PARTS.length) % REGION_PARTS.length
        ];
      if (!isAvailable || isAvailable(next)) onSelectPart(next);
    }
  };

  const isSel = (p: PartKey) => selectedPart === p;
  const isDis = (p: PartKey) => (isAvailable ? !isAvailable(p) : false);

  return (
    <svg
      className={styles.svgBox}
      viewBox="0 0 280 180"
      shapeRendering={"geometricPrecision"}
      tabIndex={0}
      onKeyDown={onKeyDown}
      aria-labelledby="goose-title"
    >
      <title id="goose-title">Chicken cut chart</title>

      {/* Goose turkey base */}
      <g className={styles.base}>
        <path d="M113.07,95.08c-.21-1.88-.67-3.76-1.4-5.5-.73-1.73-1.57-3.4-2.57-4.99-.76-1.21-1.62-2.37-2.6-3.43-2.97-4.51-6.45-9.27-8.96-14.03-2.43-4.57-4.48-9.35-6.31-14.21-1.82-4.86-3.4-9.83-4.73-14.85-.66-2.51-1.26-5.06-1.76-7.57-.21-1.24-.24-2.5.03-3.68.07-.31.16-.61.27-.91.48-.36,1.12-.57,1.81-.74.8-.2,1.59-.41,2.39-.6.81-.21,1.61-.46,2.4-.75.79-.27,1.63-.63,2.36-1.09,1.49-.93,2.7-2.19,3.8-3.37,1.01-1.07,2.04-1.99,3.35-2.4h.32c3,.02,6.2-.35,7.26-.6,1.17.14,1.55-.38,1.46-1.16-.12-1.06-.75-1.83-1.58-2.46-1.55-1.19-3.58-2.03-5.22-3.21-1.13-.82-2.04-1.5-2.35-2.9-.39-1.74.33-3.33-.58-4.95-.39-.7-.98-1.14-1.72-1.38-1.33-.44-2.94-.34-4.26.11-7.24-.45-17.59,4.68-21.71,10.73-5.23,7.61-3.8,15.65-1.21,24.02,2.45,7.81,5.56,15.33,7.79,23.11,1.1,3.88,2.01,7.83,2.3,11.81.23,3.79.33,8.06-2.82,10.73-6.19,3-13.65,8.17-20.76,13.83-7.05,5.61-13.76,11.69-18.57,16.61-5,2.18-11.52,4.86-16.24,8.56-7.47-.47-14.22-2.65-20.06-7.47-.17-.14-.41-.22-.65-.19-.35.04-.63.27-.72.57-.06.2-.02.36,0,.56.46,3.15,2.08,6.69,4.43,9.24.05,4.67,3.2,8.86,7,11.81,2.05,6.39,9.24,10.14,15.13,12.2,6.08,7.45,14.99,12.21,24.46,13.66.23.21.48.42.73.61.39,2.73.83,5.82.84,8.26-.32,1.02-.38,1.5-.43,2.27-.9.75-1.42.61-1.46,1.22-.34.41-.45.8-.45,1.18.25-.22.47-.38.69-.36.61.22.73-.07,1.4-.34.41.44.54,1.02.65,1.76.03,1.03,1.51,1.32,3.24,1.24h.22c.28.07.56.15.83.22.03.13.05.27.07.42.03,1.07,1.75,1.34,3.71,1.22,2.98.85,5.78.74,8.15,1.11,1.74.27,3.4.62,5.09.91.79.13,1.55.22,1.68-.26.36-.07.58-.09.92.02-.16-.32-.5-.51-.87-.63-.51-.51-1.4-.92-2.46-1-.3-.09-1.71-.31-2.8-.67-.11-.06-.23-.11-.35-.15-.24-.25-.57-.48-.96-.66-.01-.05-.01-.11,0-.17.24-.99,4.27-.96,5.41-1.03.92-.06,1.53.04,2.12-.64.22-.04.48-.04.7,0-.15-.24-.46-.43-.77-.46-.68-.91-4.56-.35-5.69-.27-.89-.03-1.66-.09-2.31-.15.17,0,.32,0,.43-.01.85-.06,1.43.04,1.98-.63.21-.04.45-.04.65,0-.15-.23-.43-.43-.72-.46-.57-.82-3.5-.7-4.88-.61-.07-.2-.31-.22-.66-.08-.07.03-.14.06-.21.09-1.79-.09-3.02-.27-3.68-.53-.16-.32-.31-.64-.44-.96.09-.34,0-.52-.21-.54-.85-2.34-.98-4.8-.87-7.3,2.63-.46,5.23-1.65,7.16-4.11,5.86-2.23,10.65-6.12,13.69-11.62,10.41-6.64,19.92-20.23,24.91-30.43,1.61-3.32,3.05-6.75,4.05-10.35,1.01-3.58,1.54-7.38,1.11-11.16ZM58.72,170.85c-.26-.53-.48-1.08-.66-1.65-.65-2.07-.74-4.31-.67-6.59.14.03.27.06.41.1l.26,1.55c.36,2.21.69,4.53.69,6.47-.01.04-.02.08-.03.12Z" />
      </g>

      <g className={styles.lines}>
        <path d="M83.21,27.92c-5,0-9.82-.96-13.8-2.11-.08-.71-.14-1.41-.17-2.12,4.58,1.36,10.23,2.45,15.91,2.14-.04.02-.07.04-.11.07-.11.3-.2.6-.27.91-.08.35-.14.72-.17,1.08-.46.02-.93.03-1.39.03ZM84.35,83.42c1.53-.23,2.98-.18,4.32.14,2.91.68,5.32,2.6,7,5.65,3.51,6.4,3.35,17.7-3.85,26.03-3.3,3.82-7.34,7-11.78,9.61-.66.39-1.33.77-2,1.13-6.13,3.32-12.89,5.63-19.45,7.13-1.09.26-2.18.48-3.26.69-7.09,1.36-13.78,1.79-18.95,1.54-6.28-.3-9.27-1.49-9.92-2.41-.14-.19-.23-.39-.26-.59-.03-.16-.03-.34.02-.52.6-2.57,7.01-6.01,12.66-9.05,4.89-2.63,9.5-5.11,11.72-7.52,1.46-1.59,3.29-4.06,5.41-6.92,6.87-9.27,17.24-23.28,28.34-24.91ZM28.39,146.51c.1.12.2.25.31.37-1.28-3.93-2.28-8.03-3-11.93,2.41,1.73,7.5,2.24,10.58,2.39.94.05,1.93.07,2.96.07,4.21,0,9.13-.39,14.34-1.28-4.33,6.24-7.02,14.24-5.94,22.9.69.2,1.4.39,2.1.54-1.42-9.22,1.79-17.71,6.7-23.97,7.81-1.56,16.07-4.24,23.4-8.35,2.46,2.35,5.1,7.85,2.66,20.61.18-.27.33-.55.49-.83.63-.4,1.26-.83,1.88-1.28,1.34-9.09.24-15.81-3.25-19.53,4.4-2.65,8.41-5.85,11.71-9.67,7.8-9.01,7.93-21.31,4.09-28.3-1.93-3.51-4.8-5.79-8.23-6.61l.98-3.15c3.31.13,6.73.54,9.97,1.35,2.96.74,5.54,1.73,7.72,2.97-.43-.57-.89-1.12-1.37-1.65-.38-.58-.77-1.16-1.17-1.75-1.46-.59-3.03-1.09-4.7-1.51-3.86-.96-8.08-1.39-12.13-1.42-2.51-.02-4.96.1-7.22.34-.19.73-.47,1.43-.85,2.08,2.33-.3,4.94-.47,7.67-.46l-.89,2.88c-1.01-.08-2.06-.04-3.14.12-11.92,1.75-22.59,16.16-29.66,25.69-1.04,1.41-2.01,2.72-2.9,3.87-.88,1.15-1.68,2.14-2.38,2.9-1.99,2.16-6.66,4.67-11.19,7.11-5.68,3.05-11.09,5.96-13,8.91-.55-4.33-.69-8.19-.44-11.03-.42.29-.84.6-1.24.91-.28-.02-.56-.04-.83-.07-.39,6.7,1.11,16.85,3.85,25.99.72.28,1.43.55,2.12.79Z" />
      </g>

      {/* Breast region */}
      <Region
        part="BREAST"
        label="BREAST"
        selected={isSel("BREAST")}
        disabled={isDis("BREAST")}
        onSelect={onSelectPart}
      >
        <path d="M113.07,95.08c.42,3.78-.11,7.58-1.12,11.16-1,3.61-2.44,7.04-4.05,10.36-4.69,9.58-13.36,22.16-23.03,29.15,1.34-9.09.24-15.81-3.25-19.53,4.4-2.65,8.41-5.85,11.71-9.67,7.8-9.01,7.93-21.31,4.09-28.3-1.93-3.51-4.8-5.79-8.23-6.61l.98-3.15c3.31.13,6.73.54,9.97,1.35,2.96.74,5.54,1.73,7.72,2.97h.01c.43.58.84,1.17,1.22,1.78,1,1.59,1.84,3.26,2.57,4.99.73,1.74,1.2,3.62,1.41,5.5Z" />
      </Region>

      {/* Thigh region */}
      <Region
        part="THIGH"
        label="THIGH"
        selected={isSel("THIGH")}
        disabled={isDis("THIGH")}
        onSelect={onSelectPart}
      >
        <path d="M52.77,173.36c-.22-.02-.45.14-.7.36,0-.38.12-.77.45-1.18.05-.62.57-.48,1.47-1.23.04-.76.11-1.24.42-2.26,0-2.44-.44-5.54-.83-8.27-.25-.19-.5-.39-.73-.6-1.04-.16-2.08-.36-3.11-.61-1.42-9.22,1.79-17.71,6.7-23.97,7.81-1.56,16.07-4.24,23.4-8.35,2.46,2.35,5.1,7.85,2.66,20.61-3.04,5.07-7.64,8.67-13.2,10.79-1.93,2.45-4.53,3.64-7.16,4.11-.11,2.5.02,4.96.87,7.3.22.02.3.2.21.54.14.32.28.64.45.96.66.27,1.89.44,3.68.53l.21-.09c.35-.14.59-.12.66.08,1.38-.09,4.31-.2,4.88.62.29.03.58.22.72.46-.2-.04-.44-.04-.65,0-.54.68-1.12.57-1.98.63-.11,0-.26,0-.43,0,.65.07,1.42.12,2.31.15,1.13-.08,5.01-.64,5.7.28.31.03.61.22.77.46-.22-.04-.48-.04-.7,0-.59.68-1.2.57-2.12.64-1.14.07-5.17.04-5.41,1.03-.02.06-.01.12,0,.17.39.19.72.41.96.66.12.05.24.1.35.16,1.08.36,2.5.58,2.8.67,1.05.08,1.94.5,2.45,1,.37.12.71.31.87.63-.33-.1-.56-.09-.92-.01-.13.48-.9.39-1.68.26-1.69-.28-3.36-.64-5.09-.91-2.37-.37-5.17-.26-8.15-1.11-1.95.12-3.68-.15-3.71-1.22-.02-.15-.04-.29-.07-.42-.28-.06-.56-.14-.83-.23h-.22c-1.73.09-3.22-.2-3.25-1.23-.11-.75-.23-1.33-.65-1.76-.67.27-.79.55-1.4.34ZM58.72,170.85s.03-.08.04-.12c0-1.94-.33-4.26-.69-6.47l-.26-1.56-.42-.09c-.06,2.27.03,4.51.68,6.59.17.56.39,1.11.65,1.65Z" />
      </Region>

      {/* Whole bird region 
      <Region
        part="WHOLE_BIRD"
        label="WHOLE_BIRD"
        selected={isSel("WHOLE_BIRD")}
        disabled={isDis("WHOLE_BIRD")}
        onSelect={onSelectPart}
      >
        <path d="M95.67,89.21c3.51,6.4,3.35,17.7-3.85,26.03-3.3,3.82-7.34,7-11.78,9.61-.66.39-1.33.77-2,1.13-6.13,3.32-12.89,5.63-19.45,7.13-1.09.26-2.18.48-3.26.69-7.09,1.36-13.78,1.79-18.95,1.54-6.28-.3-9.27-1.49-9.92-2.41-.14-.19-.23-.39-.26-.59-.03-.16-.03-.34.02-.52.6-2.57,7.01-6.01,12.66-9.05,4.89-2.63,9.5-5.11,11.72-7.52,1.46-1.59,3.29-4.06,5.41-6.92,6.87-9.27,17.24-23.28,28.34-24.91,1.53-.23,2.98-.18,4.32.14,2.91.68,5.32,2.6,7,5.65Z" />
        <path d="M84.6,27.89c-.07.86-.01,1.73.13,2.6.5,2.51,1.1,5.07,1.76,7.57,1.33,5.02,2.91,9.99,4.73,14.85,1.83,4.86,3.88,9.64,6.31,14.21,2.19,4.15,5.12,8.3,7.79,12.29-1.46-.59-3.03-1.09-4.7-1.51-3.86-.96-8.08-1.39-12.13-1.42-2.51-.02-4.96.1-7.22.34.59-2.13.5-4.52.37-6.75-.29-3.99-1.19-7.94-2.3-11.82-2.22-7.78-5.34-15.31-7.79-23.11-.98-3.16-1.79-6.27-2.14-9.33,3.98,1.15,8.8,2.11,13.8,2.11.46,0,.93-.01,1.39-.03Z" />
        <path d="M84.06,81.44c-11.92,1.75-22.59,16.16-29.66,25.69-1.04,1.41-2.01,2.72-2.9,3.87-.88,1.15-1.68,2.14-2.38,2.9-1.99,2.16-6.66,4.67-11.19,7.11-5.68,3.05-11.09,5.96-13,8.91-.55-4.33-.69-8.19-.44-11.03,4.58-3.24,10.42-5.66,15-7.65,4.82-4.92,11.53-11,18.58-16.61,7.11-5.66,14.56-10.83,20.75-13.83.67-.57,1.19-1.21,1.59-1.9h.01c2.33-.3,4.94-.47,7.67-.46l-.89,2.88c-1.01-.08-2.06-.04-3.14.12Z" />
        <path d="M53.58,136.13c-4.33,6.24-7.02,14.24-5.94,22.9-7.32-2.12-14.02-6.28-18.94-12.15-1.28-3.93-2.28-8.03-3-11.93,2.41,1.73,7.5,2.24,10.58,2.39.94.05,1.93.07,2.96.07,4.21,0,9.13-.39,14.34-1.28Z" />
        <path d="M113.07,95.08c.42,3.78-.11,7.58-1.12,11.16-1,3.61-2.44,7.04-4.05,10.36-4.69,9.58-13.36,22.16-23.03,29.15,1.34-9.09.24-15.81-3.25-19.53,4.4-2.65,8.41-5.85,11.71-9.67,7.8-9.01,7.93-21.31,4.09-28.3-1.93-3.51-4.8-5.79-8.23-6.61l.98-3.15c3.31.13,6.73.54,9.97,1.35,2.96.74,5.54,1.73,7.72,2.97h.01c.43.58.84,1.17,1.22,1.78,1,1.59,1.84,3.26,2.57,4.99.73,1.74,1.2,3.62,1.41,5.5Z" />
        <path d="M52.77,173.36c-.22-.02-.45.14-.7.36,0-.38.12-.77.45-1.18.05-.62.57-.48,1.47-1.23.04-.76.11-1.24.42-2.26,0-2.44-.44-5.54-.83-8.27-.25-.19-.5-.39-.73-.6-1.04-.16-2.08-.36-3.11-.61-1.42-9.22,1.79-17.71,6.7-23.97,7.81-1.56,16.07-4.24,23.4-8.35,2.46,2.35,5.1,7.85,2.66,20.61-3.04,5.07-7.64,8.67-13.2,10.79-1.93,2.45-4.53,3.64-7.16,4.11-.11,2.5.02,4.96.87,7.3.22.02.3.2.21.54.14.32.28.64.45.96.66.27,1.89.44,3.68.53l.21-.09c.35-.14.59-.12.66.08,1.38-.09,4.31-.2,4.88.62.29.03.58.22.72.46-.2-.04-.44-.04-.65,0-.54.68-1.12.57-1.98.63-.11,0-.26,0-.43,0,.65.07,1.42.12,2.31.15,1.13-.08,5.01-.64,5.7.28.31.03.61.22.77.46-.22-.04-.48-.04-.7,0-.59.68-1.2.57-2.12.64-1.14.07-5.17.04-5.41,1.03-.02.06-.01.12,0,.17.39.19.72.41.96.66.12.05.24.1.35.16,1.08.36,2.5.58,2.8.67,1.05.08,1.94.5,2.45,1,.37.12.71.31.87.63-.33-.1-.56-.09-.92-.01-.13.48-.9.39-1.68.26-1.69-.28-3.36-.64-5.09-.91-2.37-.37-5.17-.26-8.15-1.11-1.95.12-3.68-.15-3.71-1.22-.02-.15-.04-.29-.07-.42-.28-.06-.56-.14-.83-.23h-.22c-1.73.09-3.22-.2-3.25-1.23-.11-.75-.23-1.33-.65-1.76-.67.27-.79.55-1.4.34ZM58.72,170.85s.03-.08.04-.12c0-1.94-.33-4.26-.69-6.47l-.26-1.56-.42-.09c-.06,2.27.03,4.51.68,6.59.17.56.39,1.11.65,1.65Z" />
      </Region>*/}
    </svg>
  );
}
